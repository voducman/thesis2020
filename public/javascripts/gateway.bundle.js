/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/gateway/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./models/form/CommonReceiveForm.js":
/*!******************************************!*\
  !*** ./models/form/CommonReceiveForm.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("const CommonResponseForm = __webpack_require__(/*! ../form/CommonResponseForm */ \"./models/form/CommonResponseForm.js\");\n\nmodule.exports = class CommonReceiveForm{\n    /**\n     * Creates an instance of CommonReceiveForm.\n     * @param {CommonResponseForm} responseForm\n     */\n    constructor(responseForm){\n        this.success = responseForm.success;\n        this.message = responseForm.message;\n        this.data    = responseForm.data;\n    }\n\n    isSuccess(){\n        return this.success;\n    }\n\n    getMessage(){\n        return this.message;\n    }\n\n    getData(){\n        return this.data;\n    }\n}\n\n//# sourceURL=webpack:///./models/form/CommonReceiveForm.js?");

/***/ }),

/***/ "./models/form/CommonResponseForm.js":
/*!*******************************************!*\
  !*** ./models/form/CommonResponseForm.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = class CommonResponseForm{\n\n    /**\n     *Creates an instance of CommonResponseForm.\n     * @param {boolean} success\n     * @param {string} message\n     * @param {object} data\n     */\n    constructor(success, message, data){\n        this.success = success;\n        this.message = message || null;\n        this.data = data || null;\n    }\n\n    setSuccess(success){\n        this.success = success;\n    }\n\n    setMessage(message){\n        this.message = message;\n    }\n\n    setData(data){\n        this.data = data;\n    }\n\n    isSuccess(){\n        return this.success;\n    }\n\n    getMessage(){\n        return this.message;\n    }\n\n    getData(){\n        return this.data;\n    }\n}\n\n//# sourceURL=webpack:///./models/form/CommonResponseForm.js?");

/***/ }),

/***/ "./node_modules/ip-validator/lib/validator.js":
/*!****************************************************!*\
  !*** ./node_modules/ip-validator/lib/validator.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// Generated by CoffeeScript 1.8.0\n(function() {\n  var Validator;\n\n  Validator = (function() {\n    function Validator() {}\n\n    Validator.prototype.ipv4 = function(ip) {\n      var regex;\n      regex = /(([0-1]?[0-9]{1,2}\\.)|(2[0-4][0-9]\\.)|(25[0-5]\\.)){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))/;\n      return regex.test(ip);\n    };\n\n    Validator.prototype.ipv6 = function(ip) {\n      var regex;\n      regex = /(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/;\n      return regex.test(ip);\n    };\n\n    Validator.prototype.ip = function(ip) {\n      var regex;\n      regex = /^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$|^(([a-zA-Z]|[a-zA-Z][a-zA-Z0-9\\-]*[a-zA-Z0-9])\\.)*([A-Za-z]|[A-Za-z][A-Za-z0-9\\-]*[A-Za-z0-9])$|^\\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(%.+)?\\s*$/;\n      return regex.test(ip);\n    };\n\n    return Validator;\n\n  })();\n\n  module.exports = new Validator();\n\n}).call(this);\n\n\n//# sourceURL=webpack:///./node_modules/ip-validator/lib/validator.js?");

/***/ }),

/***/ "./src/gateway/Gateway.js":
/*!********************************!*\
  !*** ./src/gateway/Gateway.js ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("function Gateway(id, name, long, lat, pos, des, scanTime){\n    this.id = id;\n    this.name = name;\n    this.longitude = long;\n    this.latitude = lat;\n    this.position = pos;\n    this.description = des;\n    this.scanTime = scanTime;\n    this.PLCnum = 0;\n    this.Tagnum = 0;\n    this.createdTime = Date.now();\n    this.modified = Date.now();\n    this.status = false;\n    this.PLCs = [];\n\n}\n\nGateway.prototype.updatePLCnTag = function(){\n    let tagCount = 0;\n\n    this.PLCnum = this.PLCs.length;\n\n    if (this.PLCs.length > 0){\n        this.PLCs.forEach(function(plc, index){\n            tagCount += plc.Tags.length;\n        });\n    }\n    this.Tagnum = tagCount;\n}\n\nGateway.prototype.getPLCByName = function(name){\n    let index = this.PLCs.findIndex(function(plc){\n        return plc.name == name;\n    })\n\n    return this.PLCs[index];\n}\n\nGateway.prototype.getPLCList = function(){\n    return this.PLCs.map((plc)=> plc.name);\n}\n\nGateway.prototype.updateModifyTime = function(){\n    this.modified = Date.now();\n}\n\nGateway.prototype.updateName = function(name){\n    this.name = name;\n}\n\nGateway.prototype.updateLongitude = function(long){\n    this.longitude = long;\n}\n\nGateway.prototype.updateLatitude = function(lat){\n    this.latitude = lat;\n}\n\nGateway.prototype.updatePosition = function(address){\n    this.position = address;\n}\n\nGateway.prototype.updateDescription = function(des){\n    this.description = des;\n}\n\nGateway.prototype.updateScantime = function(scantime){\n    this.scanTime = scantime;\n}\n\nmodule.exports = Gateway;\n\n//# sourceURL=webpack:///./src/gateway/Gateway.js?");

/***/ }),

/***/ "./src/gateway/PLC.js":
/*!****************************!*\
  !*** ./src/gateway/PLC.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\nfunction PLC(producer, type, name, IPaddrr, protocol, des){\n    this.producer = producer;\n    this.type = type;\n    this.name = name;\n    this.IPaddrress = IPaddrr;\n    this.protocol = protocol;\n    this.description = des;\n    this.Tags = [];\n    this.modified = Date.now();\n    this.createdTime = Date.now();\n}\n\nPLC.prototype.getTagByName = function(tagName){\n    let index = this.Tags.findIndex((tag) => tag.name == tagName);\n    if (index == -1) return false;\n    return this.Tags[index];\n}\n\nmodule.exports = PLC;\n\n//# sourceURL=webpack:///./src/gateway/PLC.js?");

/***/ }),

/***/ "./src/gateway/Tag.js":
/*!****************************!*\
  !*** ./src/gateway/Tag.js ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\nfunction Tag(name, scale, offset, min, max, des, unit, memAddrr, dataType, dband, trend, log, alarm){\n    this.name = name;\n    this.scale = scale;\n    this.offset = offset;\n    this.minimum = min;\n    this.maximum = max;\n    this.description = des;\n    this.unit = unit; \n    this.memoryAdd = memAddrr;\n    this.dataType = dataType;\n    this.deadband = (!isNaN(dband))? dband:0;\n    this.createdTime = Date.now();\n\n    this.trend = trend;\n    this.log = log;\n    // Put alarm object here\n    this.alarm = alarm;\n\n    this.value = 0;\n    this.timeStamp = null;\n    // UNCERTAIN, GOOD or BAD\n    this.quality = null;\n\n}\n\nmodule.exports = Tag;\n\n//# sourceURL=webpack:///./src/gateway/Tag.js?");

/***/ }),

/***/ "./src/gateway/addPopupEditGW.js":
/*!***************************************!*\
  !*** ./src/gateway/addPopupEditGW.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\n/** \n * @summary: add Edit gateway modal to main page\n * @example: showEditGateway(),...\n*/\nwindow.showEditGateway = function(id){\n\n    let gateway = data.getGatewayById(id);\n\n    let editGatewayPopup = `\n    <button class=\"hidden\" id=\"showEditGateway\" type=\"button\" class=\"btn btn-info btn-lg\" data-toggle=\"modal\" data-target=\"#editGateway\">Open Modal</button>\n    <div class=\"modal fade\" id=\"editGateway\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"Modal-label\">\n        <div class=\"modal-dialog modal-lg\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-body\">\n                <div class=\"card\">\n                    <div class=\"card-content\">\n                        <div class=\"row\">\n                            <div class=\"col-md-3\">\n                                <ul class=\"nav nav-pills nav-pills-rose nav-stacked\">\n                                    <li class=\"active\">\n                                        <a href=\"#tab1\" data-toggle=\"tab\" onclick=\"hiddenTable();\">Gateway</a>\n                                    </li>\n                                    <li>\n                                        <a href=\"#tab2\" data-toggle=\"tab\" onclick=\"displayPLCTable();\">Create PLC</a>\n                                    </li>\n                                    <li>\n                                        <a href=\"#tab3\" data-toggle=\"tab\" onclick=\"displayTagTable('${id}');\">Create Tag</a>\n                                    </li>\n                                </ul>\n                                <div class=\"togglebutton text-center hidden\" id=\"switch-PLC\">\n                                    <label style=\"color: black;\">\n                                        NEW&nbsp;\n                                        <input type=\"checkbox\" onchange=\"changeModePLC()\" checked>\n                                        <span class=\"toggle\"></span>\n                                        &nbsp;EDIT \n                                    </label>\n                                </div>\n                                <div class=\"togglebutton text-center hidden\" id=\"switch-Tag\">\n                                    <label style=\"color: black;\">\n                                        NEW&nbsp;\n                                        <input type=\"checkbox\" onchange=\"changeModeTAG()\" checked>\n                                        <span class=\"toggle\"></span>\n                                        &nbsp;EDIT \n                                    </label>\n                                </div>\n                            </div>\n                            <div class=\"col-md-9\">\n                                <div class=\"tab-content\">\n                                    <div class=\"tab-pane active\" id=\"tab1\">\n                                        <fieldset class=\"form-group table-bordered\">\n                                            <legend style=\"width: auto; margin-left: 30px;\">&nbsp;Gateway Info&nbsp;[01]</legend>\n                                            <div class=\"row form-group\">\n                                                <div class=\"col-md-6\">\n                                                <div class=\"form-group label-floating\">\n                                                    <label class=\"control-label\">Name *</label>\n                                                    <input name=\"name\" type=\"text\" class=\"form-control\" required value=\"${gateway.name}\">\n                                                </div>\n                                                </div>\n                                                <div class=\"col-md-4 col-md-offset-1\">\n                                                    <div class=\"form-group label-floating\">\n                                                        <label class=\"control-label\">Scan Time *</label>\n                                                        <input name=\"scan-time\" type=\"number\" class=\"form-control\" min=\"500\" max=\"1000*3600\" required value=\"${gateway.scanTime}\">\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class=\"row form-group\">\n                                                <div class=\"col-md-11\">\n                                                <div class=\"form-group label-floating\">\n                                                    <label class=\"control-label\">Adress *</label>\n                                                    <input name=\"address\" type=\"text\" class=\"form-control\" required value=\"${gateway.position}\">\n                                                </div>\n                                                </div>\n                                            </div>\n                                            <div class=\"row form-group\">\n                                                <div class=\"col-md-5\">\n                                                    <div class=\"form-group label-floating\">\n                                                        <label class=\"control-label\">Longtitude *</label>\n                                                        <input name=\"longitude\" type=\"number\" class=\"form-control\" required min=\"0\" max=\"360\" step=\"any\" value=\"${gateway.longitude}\">\n                                                    </div>\n                                                </div>\n                                                <div class=\"col-md-5 col-md-offset-1\">\n                                                    <div class=\"form-group label-floating\">\n                                                        <label class=\"control-label\">Latitude *</label>\n                                                        <input name=\"latitude\" type=\"number\" class=\"form-control\" required min=\"0\" max=\"360\" step=\"any\" value=\"${gateway.latitude}\">\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class=\"row form-group\">\n                                                <div class=\"col-md-11\">\n                                                    <div class=\"form-group label-floating\">\n                                                        <label class=\"control-label\">Description</label>\n                                                        <textarea name=\"description\" type=\"text\" class=\"form-control\" rows=\"4\" >${gateway.description}</textarea>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class=\"row\">\n                                                <div class=\"text-center\">\n                                                    <button type=\"button\" rel=\"tooltip\" class=\"btn btn-success btn-round\" data-original-title=\"\"\n                                                        title=\"Save\" onclick=\"updateGateway('${id}')\">\n                                                        <i class=\"material-icons\">save</i>\n                                                        Save Change\n                                                    </button>\n                                                </div>\n                                            </div>\n                                        </fieldset>\n                                    </div>\n                                    \n                                    <div class=\"tab-pane\" id=\"tab2\" >\n                                        <fieldset class=\"form-group table-bordered\">\n                                            <legend style=\"width: auto; margin-left: 30px;\">\n                                                <a data-toggle=\"collapse\" href=\"#collapsePLC\" class=\"collapsed\" style=\"color: #333;\">\n                                                    &nbsp;Adding PLC&nbsp;\n                                                    <b class=\"caret\"></b>\n                                                </a>\n                                            \n                                            </legend>\n                                            <div class=\"collapse\" id=\"collapsePLC\">\n                                                <div class=\"row form-group\" style=\"margin: 10px;\">\n                                                    <p class=\"col-md-2 text-gray\">Producer:</p>\n                                                    <div class=\"col-md-5\" style=\"margin-left: -20px; margin-top: -20px;\">\n                                                        <select class=\"selectpicker\" data-style=\"select-with-transition\" title=\"Select\" data-size=\"3\"\n                                                                onchange=\"changePLCList()\"  id=\"plc-producer\">\n                                                            <option value=\"siemens\"    >Siemens</option>\n                                                            <option value=\"schneider\"  disabled>Schneider</option>\n                                                            <option value=\"mitsubishi\" disabled>Mitsubishi</option>\n                                                        </select>\n                                                    </div>\n                                                </div>\n                                                <div class=\"row form-group\" style=\"margin: 10px;\">\n                                                    <p class=\"col-md-2 text-gray\">PLC Type:</p>\n                                                    <div class=\"col-md-5\" style=\"margin-left: -20px; margin-top: -20px;\">\n                                                        <select class=\"selectpicker\" data-style=\"select-with-transition\" title=\"Select\" data-size=\"3\"\n                                                                onchange=\"changePLCTypeList()\" id=\"plc-type\">\n                                                            \n                                                        </select>\n                                                    </div>\n                                                </div>\n                                                <div class=\"row form-group\" style=\"margin: 10px;\">\n                                                    <p class=\"col-md-2 text-gray\">Protocol:</p>\n                                                    <div class=\"col-md-5\" style=\"margin-left: -20px; margin-top: -20px;\">\n                                                        <select class=\"selectpicker\" data-style=\"select-with-transition\" title=\"Select\" data-size=\"3\"\n                                                                id=\"plc-protocol\">\n                                                            \n                                                        </select>\n                                                    </div>\n                                                </div>\n                                                <div class=\"row\" style=\"margin: 10px\">\n                                                    <div class=\"col-md-6\">\n                                                        <div class=\"form-group label-floating\">\n                                                            <label class=\"control-label\">PLC Name *</label>\n                                                            <input name=\"name\" id=\"plc-name\" type=\"text\" class=\"form-control\" required minlength=\"2\">\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"col-md-6\">\n                                                        <div class=\"form-group label-floating\">\n                                                            <label class=\"control-label\">IP Adress *</label>\n                                                            <input name=\"ip-address\" id=\"plc-address\" type=\"text\" class=\"form-control\" required minlength=\"7\" maxlength=\"15\">\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class=\"row\">\n                                                    <div class=\"col-md-11\" style=\"margin-left: 5%;\">\n                                                        <div class=\"form-group label-floating\">\n                                                            <label class=\"control-label\">Description</label>\n                                                            <textarea name=\"description\" id=\"plc-des\" type=\"text\" class=\"form-control\" rows=\"4\"></textarea>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class=\"row\" id=\"PLC-new\">\n                                                    <div class=\"text-center\">\n                                                        <button type=\"button\" rel=\"tooltip\" class=\"btn btn-success btn-round\" data-original-title=\"\"\n                                                            title=\"Create New\" onclick=\"createNewPLC('${id}')\">\n                                                            <i class=\"material-icons\">add_circle</i>\n                                                            Create New\n                                                        </button>\n                                                    </div>\n                                                </div>\n                                                <div class=\"row hidden\" id=\"PLC-edit\">\n                                                    \n                                                </div>\n                                            </div>\n                                        </fieldset>\n                                        \n                                    </div>\n                                    <div class=\"tab-pane\" id=\"tab3\">\n                                        <fieldset class=\"form-group table-bordered\">\n                                            <legend style=\"width: auto; margin-left: 30px;\">\n                                                <a data-toggle=\"collapse\" href=\"#collapseTag\" class=\"collapsed\" style=\"color: #333;\">\n                                                    &nbsp;Adding Tag&nbsp;\n                                                    <b class=\"caret\"></b>\n                                                </a>\n                                            </legend>\n                                            <div class=\"collapse\" id=\"collapseTag\">\n                                                <div class=\"row\">\n                                                    <div class=\"col-md-7 form-group\">\n                                                        <p class=\"col-md-2 text-gray\">Type:</p>\n                                                        <div class=\"col-md-5\" style=\"margin-top: -20px; margin-left: -5px;\">\n                                                            <select class=\"selectpicker\" data-style=\"select-with-transition\" title=\"State\" data-size=\"2\"\n                                                                    id=\"type-plc\" onchange=\"changeTypeTag()\">\n                                                                <option value=\"external\" selected>External</option>\n                                                                <option value=\"internal\">Internal</option>\n                                                            </select>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class=\"row internal-plc form-group hidden\">\n                                                    <div class=\"row form-group\" style=\"margin-top: -25px;\">\n                                                        <div class=\"col-md-5\">\n                                                            <div class=\"form-group label-floating\">\n                                                                <label class=\"control-label\">Name *</label>\n                                                                <input name=\"name\" type=\"text\" class=\"form-control\" minlength=\"4\" required>\n                                                            </div>\n                                                        </div>\n                                                        <div class=\"col-md-3\">\n                                                            <div class=\"form-group label-floating\">\n                                                                <label class=\"control-label\">Scale</label>\n                                                                <input name=\"scale\" type=\"number\" class=\"form-control\">\n                                                            </div>\n                                                        </div>\n                                                        <div class=\"col-md-3\">\n                                                            <div class=\"form-group label-floating\">\n                                                                <label class=\"control-label\">Offset</label>\n                                                                <input name=\"offset\" type=\"number\" class=\"form-control\">\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"row form-group\">\n                                                        <div class=\"col-md-12\">\n                                                                <div class=\"row\">\n                                                                    <p class=\"col-md-3 text-gray\">Data Type:</p>\n                                                                    <div class=\"col-md-4 col-md-pull-1\" style=\"margin-top: -20px;\">\n                                                                        <select name=\"select-datatype\" class=\"selectpicker\" data-style=\"select-with-transition\" title=\"State\"\n                                                                            data-size=\"5\" data-live-search=\"true\">\n                                                                            <option value=\"int\" selected>INT</option>\n                                                                            <option value=\"word\">WORD</option>\n                                                                            <option value=\"dword\">DWORD</option>\n                                                                            <option value=\"real\">REAL</option>\n                                                                            <option value=\"bool\">BOOL</option>\n                                                                        </select>\n                                                                    </div>\n                                                                    <div class=\"col-md-3\" style=\"margin-top: -32px;\">\n                                                                        <div class=\"form-group label-floating\">\n                                                                            <label class=\"control-label\">Unit *</label>\n                                                                            <input name=\"unit\" type=\"text\" class=\"form-control\">\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                    </div>\n                                                </div>\n                                                <div class=\"row external-plc\">\n                                                    <div class=\"col-md-7\">\n                                                        <div class=\"row form-group\" style=\"margin-top: 10px;\">\n                                                            <div class=\"col-md-12\">\n                                                                <div class=\"row\">\n                                                                    <p class=\"col-md-3 text-gray\">PLC:</p>\n                                                                    <div class=\"col-md-4 col-md-pull-1\" style=\"margin-top: -20px;\">\n                                                                        <select name=\"select-plc\" class=\"selectpicker\" data-style=\"select-with-transition\" title=\"State\"\n                                                                            data-size=\"5\" data-live-search=\"true\">\n                                                                           \n                                                                        </select>\n                                                                    </div>\n                                                                    <div class=\"col-md-5\" style=\"margin-top: -32px;\">\n                                                                        <div class=\"form-group label-floating\">\n                                                                            <label class=\"control-label\">Name *</label>\n                                                                            <input name=\"name\" type=\"text\" class=\"form-control\" minlength=\"4\" required>\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                        <div class=\"row form-group\" style=\"margin-top: 0;\">\n                                                            <div class=\"col-md-5\">\n                                                                <div class=\"form-group label-floating\">\n                                                                    <label class=\"control-label\">Scale</label>\n                                                                    <input name=\"scale\" type=\"number\" class=\"form-control\" required>\n                                                                </div>\n                                                            </div>\n                                                            <div class=\"col-md-5 col-md-offset-2\">\n                                                                <div class=\"form-group label-floating\">\n                                                                    <label class=\"control-label\">Offset</label>\n                                                                    <input name=\"offset\" type=\"number\" class=\"form-control\" required>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                        <div class=\"row form-group\" style=\"margin-top: 0;\">\n                                                            <div class=\"col-md-5\">\n                                                                <div class=\"form-group label-floating\">\n                                                                    <label class=\"control-label\">Minimum</label>\n                                                                    <input name=\"minimum\" type=\"number\" class=\"form-control\" required>\n                                                                </div>\n                                                            </div>\n                                                            <div class=\"col-md-5 col-md-offset-2\">\n                                                                <div class=\"form-group label-floating\">\n                                                                    <label class=\"control-label\">Maximum</label>\n                                                                    <input name=\"maximum\" type=\"number\" class=\"form-control\" required>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                        <div class=\"row form-group\" style=\"margin-top: 10px;\">\n                                                            <div class=\"col-md-12\">\n                                                                <div class=\"row\">\n                                                                    <p class=\"col-md-4 text-gray\">Data Type:</p>\n                                                                    <div class=\"col-md-3 col-md-pull-1\" style=\"margin-top: -20px;\">\n                                                                        <select name=\"select-datatype\" class=\"selectpicker\" data-style=\"select-with-transition\" title=\"State\"\n                                                                            data-size=\"5\" data-live-search=\"true\">\n                                                                            <option value=\"int\" selected>INT</option>\n                                                                            <option value=\"word\">WORD</option>\n                                                                            <option value=\"dword\">DWORD</option>\n                                                                            <option value=\"real\">REAL</option>\n                                                                            <option value=\"bool\">BOOL</option>\n                                                                        </select>\n                                                                    </div>\n                                                                    <div class=\"col-md-5\" style=\"margin-top: -32px;\">\n                                                                        <div class=\"form-group label-floating\">\n                                                                            <label class=\"control-label\">Unit *</label>\n                                                                            <input name=\"unit\" type=\"text\" class=\"form-control\">\n                                                                        </div>\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"col-md-5\" style=\"margin-top: -25px;\">\n                                                        <div class=\"row form-group\">\n                                                            <div class=\"col-md-10\">\n                                                                <div class=\"checkbox\">\n                                                                    <label>\n                                                                        <input type=\"checkbox\" id=\"alarm-enable\" name=\"alarm-checkbox\"\n                                                                            onchange=\"showAlarmInput()\">\n                                                                            <span class=\"checkbox-material\"><span class=\"check\"></span></span>\n                                                                            Alarm\n                                                                    </label>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                        <div class=\"row form-group\" style=\"height:50px; margin: -20px 20px 0 20px; opacity: 0.4;\">\n                                                            <div class=\"form-group label-floating\">\n                                                                <label class=\"control-label\">HIHI *</label>\n                                                                <input name=\"alarm-hihi\" type=\"number\" class=\"form-control alarm-\" disabled required>\n                                                            </div>\n                                                        </div>\n                                                        <div class=\"row form-group\" style=\"height:50px; margin: 0 20px; opacity: 0.4;\">\n                                                            <div class=\"form-group label-floating\">\n                                                                <label class=\"control-label\">HI *</label>\n                                                                <input name=\"alarm-hi\" type=\"number\" class=\"form-control alarm-\" disabled required>\n                                                            </div>\n                                                        </div>\n                                                        <div class=\"row form-group\" style=\"height:50px; margin: 0 20px; opacity: 0.4;\">\n                                                            <div class=\"form-group label-floating\">\n                                                                <label class=\"control-label\">LOW *</label>\n                                                                <input name=\"alarm-low\" type=\"number\" class=\"form-control alarm-\" disabled required>\n                                                            </div>\n                                                        </div>\n                                                        <div class=\"row form-group\" style=\"height:50px; margin: 0 20px; opacity: 0.4;\">\n                                                            <div class=\"form-group label-floating\">\n                                                                <label class=\"control-label\">LOWLOW *</label>\n                                                                <input name=\"alarm-lowlow\" type=\"number\" class=\"form-control alarm-\" disabled required>\n                                                            </div>\n                                                        </div>\n                                        \n                                                        <div class=\"row form-group\">\n                                                            <div class=\"col-md-5\">\n                                                                <div class=\"checkbox\">\n                                                                    <label>\n                                                                        <input type=\"checkbox\" id=\"trend-enable\" name=\"trend-checkbox\">\n                                                                        <span class=\"checkbox-material\"><span class=\"check\"></span></span>    \n                                                                        Trend\n                                                                    </label>\n                                                                </div>\n                                                            </div>\n                                                            <div class=\"col-md-5\">\n                                                                <div class=\"checkbox\">\n                                                                    <label>\n                                                                        <input type=\"checkbox\" id=\"log-enable\" name=\"log-checkbox\">\n                                                                        <span class=\"checkbox-material\"><span class=\"check\"></span></span>    \n                                                                        Log\n                                                                    </label>\n                                                                </div>\n                                                            </div>\n                                                        </div>\n                                                       \n                                                    </div>\n                                                </div>\n                                                <div class=\"row form-group external-plc\">\n                                                    <div class=\"col-md-4\">\n                                                        <div class=\"radio\">\n                                                            <label>\n                                                                <input type=\"radio\" name=\"select-type\" checked value=\"read\">\n                                                                <span class=\"circle\"></span>\n                                                                <span class=\"check\"></span>\n                                                                Read Only\n                                                            </label>\n                                                             <label>\n                                                                <input type=\"radio\" name=\"select-type\" value=\"readwrite\">\n                                                                <span class=\"circle\"></span>\n                                                                <span class=\"check\"></span>\n                                                                Read/Write\n                                                            </label>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"col-md-4\">\n                                                        <div class=\"form-group label-floating\">\n                                                            <label class=\"control-label\">Memory Address *</label>\n                                                            <input name=\"m-address\" type=\"text\" class=\"form-control\" required>\n                                                        </div>\n                                                    </div>\n                                                    <div class=\"col-md-4\">\n                                                        <div class=\"form-group label-floating\">\n                                                            <label class=\"control-label\">Deadband</label>\n                                                            <input name=\"deadband\" type=\"number\" class=\"form-control\" min=\"0\" >\n                                                        </div>\n                                                    </div>\n                                                </div>\n\n                                                <div class=\"row form-group\">\n                                                    <div class=\"col-md-12\">\n                                                        <div class=\"form-group label-floating\">\n                                                            <label class=\"control-label\">Description</label>\n                                                            <textarea id=\"tag-description\" name=\"description\" type=\"text\" class=\"form-control\" rows=\"4\"></textarea>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div class=\"row\" id=\"Tag-new\">\n                                                    <div class=\"text-center\">\n                                                        <button type=\"button\" rel=\"tooltip\" class=\"btn btn-success btn-round\" data-original-title=\"\"\n                                                            title=\"Create New\" onclick=\"createNewTag('${id}')\">\n                                                            <i class=\"material-icons\">add_circle</i>\n                                                            Create New\n                                                        </button>\n                                                    </div>\n                                                </div>\n                                                <div class=\"row hidden\" id=\"Tag-edit\">\n                                                   \n                                                </div>\n                                            </div>\n                                        </fieldset>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"row hidden\" id=\"PLC-table\">\n                            <fieldset class=\"form-group table-bordered\">\n                                <legend style=\"width: auto; margin-left: 30px;\">\n                                    <a data-toggle=\"collapse\" href=\"#collapsePLC-table\" class=\"collapsed\" style=\"color: #333;\">\n                                        &nbsp;PLCs Table&nbsp;\n                                        <b class=\"caret\"></b>\n                                    </a>                                  \n                                </legend>\n                                <div class=\"collapse\" id=\"collapsePLC-table\">\n                                    <div class=\"row\">\n                                        <div class=\"col-md-12\">\n                                            <div class=\"card\" style=\"background-color: #f3f9f7; margin-top: 0;\">\n                                                <div class=\"card-content\">\n                                                    <div class=\"table-responsive\">\n                                                        <table class=\"table\" style=\"font-size: small;\">\n                                                            <thead style=\"background-color: #a4a4a4; font-weight: 900!important;\">\n                                                                <tr>\n                                                                    <th class=\"text-center\">ID</th>\n                                                                    <th class=\"text-center\">Name</th>\n                                                                    <th class=\"text-center\">Producer</th>\n                                                                    <th class=\"text-center\">Type</th>\n                                                                    <th class=\"text-center\">Protocol</th>\n                                                                    <th class=\"text-center\">Tag</th>\n                                                                    <th class=\"text-center\">IP Adress</th>\n                                                                    <th class=\"text-center\">Action</th>\n                                                                </tr>\n                                                            </thead>\n                                                            <tbody id=\"render-plc\">\n                                                             \n                                                            </tbody>\n                                                        </table>\n                                                        <div class=\"row\">\n                                                        <div class=\"col-md-4\">\n                                                            <ul class=\"pagination pagination-info\" id=\"pagination-plc\">\n                                                                <p>Showing 1 to * of * entries</p>\n                                                            </ul>\n                                                        </div>\n                                                        <div class=\"col-md-4 col-md-offset-4 text-right\">\n                                                            <ul class=\"pagination pagination-info\">\n                                                                <li>\n                                                                    <a href=\"javascript:void(0);\" id=\"first-plc\"><<</a>\n                                                                </li>\n                                                                <li class=\"active\">\n                                                                    <a href=\"javascript:void(0);\" id=\"back-plc\">1</a>\n                                                                </li>\n                                                                <li class=\"\">\n                                                                    <a href=\"javascript:void(0);\" id=\"current-plc\">2</a>\n                                                                </li>\n                                                                <li class=\"\">\n                                                                    <a href=\"javascript:void(0);\" id=\"next-plc\">3</a>\n                                                                </li>\n                                                                <li>\n                                                                    <a href=\"javascript:void(0);\" id=\"last-plc\">>></a>\n                                                                </li>\n                                                            </ul>\n                                                        </div>\n                                                    </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                            \n                                    </div>\n                            </fieldset>\n                        </div>\n\n                        <div class=\"row hidden\" id=\"Tag-table\">\n                            <fieldset class=\"form-group table-bordered\">\n                                <legend style=\"width: auto; margin-left: 30px;\">\n                                    <a data-toggle=\"collapse\" href=\"#collapseTag-table\" class=\"collapsed\" style=\"color: #333;\">\n                                        &nbsp;Tags Table&nbsp;\n                                        <b class=\"caret\"></b>\n                                    </a>\n                                </legend>\n                                <div class=\"collapse\" id=\"collapseTag-table\">\n                                    <div class=\"row\">\n                                        <div class=\"col-md-12\">\n                                            <div class=\"card\" style=\"background-color: #f3f9f7; margin-top: 0;\">\n                                                <div class=\"card-content\">\n                                                    <div class=\"table-responsive\">\n                                                        <table class=\"table\" style=\"font-size: small;\">\n                                                            <thead style=\"background-color: #a4a4a4; font-weight: 900!important;\">\n                                                                <tr>\n                                                                    <th class=\"text-center\">ID</th>\n                                                                    <th class=\"text-center\">Name</th>\n                                                                    <th class=\"text-center\">Type</th>\n                                                                    <th class=\"text-center\">Unit</th>\n                                                                    <th class=\"text-center\">Address</th>\n                                                                    <th class=\"text-center\">Data Type</th>\n                                                                    <th class=\"text-center\">Trend</th>\n                                                                    <th class=\"text-center\">Log</th>\n                                                                    <th class=\"text-center\">Alarm</th>\n                                                                    <th class=\"text-center\">Action</th>\n                            \n                                                                </tr>\n                                                            </thead>\n                                                            <tbody id=\"render-tag\">\n                                                                \n                                                            </tbody>\n                                                        </table>\n                                                        <div class=\"row\">\n                                                        <div class=\"col-md-4\">\n                                                            <ul class=\"pagination pagination-info\" id=\"pagination-tag\">\n                                                                <p>Showing 1 to * of * entries</p>\n                                                            </ul>\n                                                        </div>\n                                                        <div class=\"col-md-4 col-md-offset-4 text-right\">\n                                                            <ul class=\"pagination pagination-info\">\n                                                                <li>\n                                                                    <a href=\"javascript:void(0);\" id=\"first-tag\"><<</a>\n                                                                </li>\n                                                                <li class=\"active\">\n                                                                    <a href=\"javascript:void(0);\" id=\"back-tag\">1</a>\n                                                                </li>\n                                                                <li class=\"\">\n                                                                    <a href=\"javascript:void(0);\" id=\"current-tag\">2</a>\n                                                                </li>\n                                                                <li class=\"\">\n                                                                    <a href=\"javascript:void(0);\" id=\"next-tag\">3</a>\n                                                                </li>\n                                                                <li>\n                                                                    <a href=\"javascript:void(0);\" id=\"last-tag\">>></a>\n                                                                </li>\n                                                            </ul>\n                                                        </div>\n                                                    </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                            \n                                    </div>\n                            </fieldset>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" class=\"btn btn-danger btn-round\" data-dismiss=\"modal\" onclick=\"removeEditGateway()\">Close</button>\n            </div>\n        </div>\n        </div>\n    </div>`\n\n    $('body').append(editGatewayPopup);\n    $('.selectpicker').selectpicker('render');\n    $('#showEditGateway').click();\n    $('#editGateway').click(function(e){\n        let target = Array.from(e.target.classList).join();\n        console.log('Click here: ', target);\n        if (target == 'modal,fade'){\n            removeEditGateway();\n        }\n    });\n    \n    renderPLCTable(id);\n\n    disableFloatingLabel();\n    addEvent2Pagination();\n}\n\nwindow.removeEditGateway = function(){\n    console.log(\"remove editgateway+\")\n    $('#showEditGateway').remove();\n    $('#editGateway').remove();\n    $('.modal-backdrop').remove();\n}\n\n\n// This function init input with label-floating (Disable float label when render)\nwindow.disableFloatingLabel = function(){\n    $('#editGateway .label-floating input').each(function(){\n        if ($(this)[0].value.trim().length == 0){\n            $(this).parent().addClass('is-empty');\n        }else{\n            $(this).parent().removeClass('is-empty');\n        }\n    })\n\n    $('#editGateway .label-floating textarea').each(function(){\n        if ($(this)[0].value.trim().length == 0){\n            $(this).parent().addClass('is-empty');\n        }else{\n            $(this).parent().removeClass('is-empty');\n        }\n    })\n}\n\n\nwindow.addEvent2Pagination = function() {\n    console.log('add success event')\n    // Handle page navigation action\n    $('#first-plc').click(function () {\n        console.log(numRowPLC)\n        for (let i = 1; i <= numRowPLC; i++) {\n            if (i <= 10) $(`.plc-${i}`).show();\n            else $(`.plc-${i}`).hide();\n        }\n\n        if (numRowPLC <= 20) {\n            $('#back-plc').html('1');\n            $('#current-plc').html('2');\n            $('#next-plc').parent().hide();\n            $('#back-plc').parent().addClass('active');\n            $('#current-plc').parent().removeClass('active');\n        } else {\n            $('#back-plc').html('1');\n            $('#current-plc').html('2');\n            $('#next-plc').parent().show();\n            $('#next-plc').html('3');\n            $('#back-plc').parent().addClass('active');\n            $('#current-plc').parent().removeClass('active');\n            $('#next-plc').parent().removeClass('active');\n        }\n        $('#pagination-plc p').text(`Showing 1 to 10 of ${numRowPLC} entries`);\n    })\n\n    $('#back-plc').click(function () {\n        if (numRowPLC <= 20) {\n            for (let i = 1; i <= numRowPLC; i++) {\n                if (i <= 10) $(`.plc-${i}`).show();\n                else $(`.plc-${i}`).hide();\n            }\n\n            $('#back-plc').parent().show();\n            $('#current-plc').parent().show();\n            $('#back-plc').parent().addClass('active');\n            $('#current-plc').parent().removeClass('active');\n            $('#pagination-plc p').text(`Showing 1 to 10 of ${numRowPLC} entries`);\n        } else {\n            let current = parseInt($('#back-plc').html());\n\n            for (let i = 1; i <= numRowPLC; i++) {\n                if (i <= current * 10 && i > current * 10 - 10)\n                    $(`.plc-${i}`).show();\n                else\n                    $(`.plc-${i}`).hide();\n            }\n\n            if (current > 1) { // Rotate pagination\n                $('#back-plc').html(current - 1);\n                $('#current-plc').html(current);\n                $('#next-plc').html(current + 1);\n                $('#back-plc').parent().removeClass('active');\n                $('#current-plc').parent().addClass('active');\n                $('#next-plc').parent().removeClass('active');\n                $('#pagination-plc p').text(`Showing ${current * 10 - 9} to ${current * 10} of ${numRowPLC} entries`);\n            } else {         // Don't rotate pagination\n                $('#back-plc').parent().addClass('active');\n                $('#current-plc').parent().removeClass('active');\n                $('#next-plc').parent().removeClass('active');\n                $('#pagination-plc p').text(`Showing 1 to 10 of ${numRowPLC} entries`);\n            }\n\n        }\n\n    })\n\n    $('#current-plc').click(function () {\n        let current = parseInt($('#current-plc').html());\n        if (current == 2) {\n            for (let i = 1; i <= numRowPLC; i++) {\n                if (i > 10 && i <= 20) $(`.plc-${i}`).show();\n                else $(`.plc-${i}`).hide();\n            }\n\n            $('#back-plc').parent().removeClass('active');\n            $('#current-plc').parent().addClass('active');\n            $('#next-plc').parent().removeClass('active');\n            $('#pagination-plc p').text(`Showing 11 to ${(numRowPLC > 20) ? '20' : numRowPLC} of ${numRowPLC} entries`);\n        } else if (current == Math.ceil(numRowPLC / 10) - 1) {\n            for (let i = 1; i <= numRowPLC; i++) {\n                if (i <= current * 10 && i > current * 10 - 10) $(`.plc-${i}`).show();\n                else $(`.plc-${i}`).hide();\n            }\n\n            $('#back-plc').parent().removeClass('active');\n            $('#current-plc').parent().addClass('active');\n            $('#next-plc').parent().removeClass('active');\n            $('#pagination-plc p').text(`Showing ${current * 10 - 9} to ${current * 10} of ${numRowPLC} entries`);\n        }\n    })\n\n    $('#next-plc').click(function () {\n        let current = parseInt($('#next-plc').html());\n\n        for (let i = 1; i <= numRowPLC; i++) {\n            if (i <= current * 10 && i > current * 10 - 10) $(`.plc-${i}`).show();\n            else $(`.plc-${i}`).hide();\n        }\n\n        if (current == 3 && numRowPLC <= 30) { // Don't rotate pagination\n            $('#back-plc').parent().removeClass('active');\n            $('#current-plc').parent().removeClass('active');\n            $('#next-plc').parent().addClass('active');\n            $('#pagination-plc p').text(`Showing ${current * 10 - 9} to ${numRowPLC} of ${numRowPLC} entries`);\n        } else if (current >= 3 && current < Math.ceil(numRowPLC / 10)) {         // Rotate pagination\n            $('#back-plc').html(current - 1);\n            $('#current-plc').html(current);\n            $('#next-plc').html(current + 1);\n            $('#back-plc').parent().removeClass('active');\n            $('#current-plc').parent().addClass('active');\n            $('#next-plc').parent().removeClass('active');\n            $('#pagination-plc p').text(`Showing ${current * 10 - 9} to ${current * 10} of ${numRowPLC} entries`);\n        } else {\n            $('#back-plc').parent().removeClass('active');\n            $('#current-plc').parent().removeClass('active');\n            $('#next-plc').parent().addClass('active');\n            $('#pagination-plc p').text(`Showing ${current * 10 - 9} to ${numRowPLC} of ${numRowPLC} entries`);\n        }\n\n    })\n\n    $('#last-plc').click(function () {\n        for (let i = 1; i <= numRowPLC; i++) {\n            if (i > 10 * Math.floor(numRowPLC / 10)) $(`.plc-${i}`).show();\n            else $(`.plc-${i}`).hide();\n        }\n\n        if (numRowPLC <= 20) {\n            $('#back-plc').parent().show();\n            $('#back-plc').html('1');\n            $('#current-plc').parent().show();\n            $('#current-plc').html('2');\n            $('#next-plc').parent().hide();\n            $('#back-plc').parent().removeClass('active');\n            $('#current-plc').parent().addClass('active');\n        } else {\n            $('#back-plc').parent().show();\n            $('#back-plc').html(Math.ceil(numRowPLC / 10) - 2);\n            $('#current-plc').parent().show();\n            $('#current-plc').html(Math.ceil(numRowPLC / 10) - 1);\n            $('#next-plc').parent().show();\n            $('#next-plc').html(Math.ceil(numRowPLC / 10));\n            $('#back-plc').parent().removeClass('active');\n            $('#current-plc').parent().removeClass('active');\n            $('#next-plc').parent().addClass('active');\n        }\n        $('#pagination-plc p').text(`Showing ${10 * Math.floor(numRowPLC / 10) + 1} to ${numRowPLC} of ${numRowPLC} entries`);\n    })\n\n\n    // Handle page navigation action\n    $('#first-tag').click(function () {\n        console.log(numRowTag)\n        for (let i = 1; i <= numRowTag; i++) {\n            if (i <= 10) $(`.tag-${i}`).show();\n            else $(`.tag-${i}`).hide();\n        }\n\n        if (numRowTag <= 20) {\n            $('#back-tag').html('1');\n            $('#current-tag').html('2');\n            $('#next-tag').parent().hide();\n            $('#back-tag').parent().addClass('active');\n            $('#current-tag').parent().removeClass('active');\n        } else {\n            $('#back-tag').html('1');\n            $('#current-tag').html('2');\n            $('#next-tag').parent().show();\n            $('#next-tag').html('3');\n            $('#back-tag').parent().addClass('active');\n            $('#current-tag').parent().removeClass('active');\n            $('#next-tag').parent().removeClass('active');\n        }\n        $('#pagination-tag p').text(`Showing 1 to 10 of ${numRowTag} entries`);\n    })\n\n    $('#back-tag').click(function () {\n        if (numRowTag <= 20) {\n            for (let i = 1; i <= numRowTag; i++) {\n                if (i <= 10) $(`.tag-${i}`).show();\n                else $(`.tag-${i}`).hide();\n            }\n\n            $('#back-tag').parent().show();\n            $('#current-tag').parent().show();\n            $('#back-tag').parent().addClass('active');\n            $('#current-tag').parent().removeClass('active');\n            $('#pagination-tag p').text(`Showing 1 to 10 of ${numRowTag} entries`);\n        } else {\n            let current = parseInt($('#back-tag').html());\n\n            for (let i = 1; i <= numRowTag; i++) {\n                if (i <= current * 10 && i > current * 10 - 10)\n                    $(`.tag-${i}`).show();\n                else\n                    $(`.tag-${i}`).hide();\n            }\n\n            if (current > 1) { // Rotate pagination\n                $('#back-tag').html(current - 1);\n                $('#current-tag').html(current);\n                $('#next-tag').html(current + 1);\n                $('#back-tag').parent().removeClass('active');\n                $('#current-tag').parent().addClass('active');\n                $('#next-tag').parent().removeClass('active');\n                $('#pagination-tag p').text(`Showing ${current * 10 - 9} to ${current * 10} of ${numRowTag} entries`);\n            } else {         // Don't rotate pagination\n                $('#back-tag').parent().addClass('active');\n                $('#current-tag').parent().removeClass('active');\n                $('#next-tag').parent().removeClass('active');\n                $('#pagination-tag p').text(`Showing 1 to 10 of ${numRowTag} entries`);\n            }\n\n        }\n\n    })\n\n    $('#current-tag').click(function () {\n        let current = parseInt($('#current-tag').html());\n        if (current == 2) {\n            for (let i = 1; i <= numRowTag; i++) {\n                if (i > 10 && i <= 20) $(`.tag-${i}`).show();\n                else $(`.tag-${i}`).hide();\n            }\n\n            $('#back-tag').parent().removeClass('active');\n            $('#current-tag').parent().addClass('active');\n            $('#next-tag').parent().removeClass('active');\n            $('#pagination-tag p').text(`Showing 11 to ${(numRowTag > 20) ? '20' : numRowTag} of ${numRowTag} entries`);\n        } else if (current == Math.ceil(numRowTag / 10) - 1) {\n            for (let i = 1; i <= numRowTag; i++) {\n                if (i <= current * 10 && i > current * 10 - 10) $(`.tag-${i}`).show();\n                else $(`.tag-${i}`).hide();\n            }\n\n            $('#back-tag').parent().removeClass('active');\n            $('#current-tag').parent().addClass('active');\n            $('#next-tag').parent().removeClass('active');\n            $('#pagination-tag p').text(`Showing ${current * 10 - 9} to ${current * 10} of ${numRowTag} entries`);\n        }\n    })\n\n    $('#next-tag').click(function () {\n        let current = parseInt($('#next-tag').html());\n\n        for (let i = 1; i <= numRowTag; i++) {\n            if (i <= current * 10 && i > current * 10 - 10) $(`.tag-${i}`).show();\n            else $(`.tag-${i}`).hide();\n        }\n\n        if (current == 3 && numRowTag <= 30) { // Don't rotate pagination\n            $('#back-tag').parent().removeClass('active');\n            $('#current-tag').parent().removeClass('active');\n            $('#next-tag').parent().addClass('active');\n            $('#pagination-tag p').text(`Showing ${current * 10 - 9} to ${numRowTag} of ${numRowTag} entries`);\n        } else if (current >= 3 && current < Math.ceil(numRowTag / 10)) {         // Rotate pagination\n            $('#back-tag').html(current - 1);\n            $('#current-tag').html(current);\n            $('#next-tag').html(current + 1);\n            $('#back-tag').parent().removeClass('active');\n            $('#current-tag').parent().addClass('active');\n            $('#next-tag').parent().removeClass('active');\n            $('#pagination-tag p').text(`Showing ${current * 10 - 9} to ${current * 10} of ${numRowTag} entries`);\n        } else {\n            $('#back-tag').parent().removeClass('active');\n            $('#current-tag').parent().removeClass('active');\n            $('#next-tag').parent().addClass('active');\n            $('#pagination-tag p').text(`Showing ${current * 10 - 9} to ${numRowTag} of ${numRowTag} entries`);\n        }\n\n    })\n\n    $('#last-tag').click(function () {\n        for (let i = 1; i <= numRowTag; i++) {\n            if (i > 10 * Math.floor(numRowTag / 10)) $(`.tag-${i}`).show();\n            else $(`.tag-${i}`).hide();\n        }\n\n        if (numRowTag <= 20) {\n            $('#back-tag').parent().show();\n            $('#back-tag').html('1');\n            $('#current-tag').parent().show();\n            $('#current-tag').html('2');\n            $('#next-tag').parent().hide();\n            $('#back-tag').parent().removeClass('active');\n            $('#current-tag').parent().addClass('active');\n        } else {\n            $('#back-tag').parent().show();\n            $('#back-tag').html(Math.ceil(numRowTag / 10) - 2);\n            $('#current-tag').parent().show();\n            $('#current-tag').html(Math.ceil(numRowTag / 10) - 1);\n            $('#next-tag').parent().show();\n            $('#next-tag').html(Math.ceil(numRowTag / 10));\n            $('#back-tag').parent().removeClass('active');\n            $('#current-tag').parent().removeClass('active');\n            $('#next-tag').parent().addClass('active');\n        }\n        $('#pagination-tag p').text(`Showing ${10 * Math.floor(numRowTag / 10) + 1} to ${numRowTag} of ${numRowTag} entries`);\n    })\n}\n\n//# sourceURL=webpack:///./src/gateway/addPopupEditGW.js?");

/***/ }),

/***/ "./src/gateway/addPopupNewGW.js":
/*!**************************************!*\
  !*** ./src/gateway/addPopupNewGW.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/**\n * @summary: Event listener function\n * @example: create-new button, save-button\n */\n\nwindow.addPopupCreateNew = function(){\n    let popup = `\n    <button class=\"hidden\" id=\"showAddGateway\" type=\"button\" class=\"btn btn-info btn-lg\" data-toggle=\"modal\" data-target=\"#addGateway\">Open Modal</button>\n    <div class=\"modal fade\" id=\"addGateway\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"Modal-label\">\n        <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n            <div class=\"modal-body\">\n                <fieldset class=\"form-group table-bordered\">\n                    <legend style=\"width: auto; margin-left: 30px;\">&nbsp;Gateway Informations&nbsp;</legend>\n                    <div class=\"row form-group\">\n                        <div class=\"col-md-5\">\n                            <div class=\"form-group label-floating is-empty\">\n                                <label class=\"control-label\">ID *</label>\n                                <input name=\"id\" type=\"text\" class=\"form-control\" required tabindex=\"1\">\n                            </div>\n                        </div>\n                        <div class=\"col-md-5 col-md-offset-1\">\n                            <div class=\"form-group label-floating is-empty\">\n                                <label class=\"control-label\">Name *</label>\n                                <input name=\"name\" type=\"text\" class=\"form-control\" required tabindex=\"2\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"row form-group\">\n                        <div class=\"col-md-11\">\n                        <div class=\"form-group label-floating is-empty\">\n                            <label class=\"control-label\">Adress * (Ex: <i>District 10, HCMC, Vietnam</i>)</label>\n                            <input name=\"address\" type=\"text\" class=\"form-control\" required tabindex=\"3\">\n                        </div>\n                        </div>\n                    </div>\n                    <div class=\"row form-group\">\n                        <div class=\"col-md-3\">\n                            <div class=\"form-group label-floating is-empty\">\n                                <label class=\"control-label\">Scan Time *</label>\n                                <input name=\"scan-time\" type=\"number\" class=\"form-control\" min=\"500\" max=\"1000*3600\" required tabindex=\"4\">\n                            </div>\n                        </div>\n                        <div class=\"col-md-3 col-md-offset-1\">\n                            <div class=\"form-group label-floating is-empty\">\n                                <label class=\"control-label\">Longtitude *</label>\n                                <input name=\"longitude\" type=\"number\" class=\"form-control\" required min=\"0\" max=\"360\" step=\"any\" tabindex=\"5\">\n                            </div>\n                        </div>\n                        <div class=\"col-md-3 col-md-offset-1\">\n                            <div class=\"form-group label-floating is-empty\">\n                                <label class=\"control-label\">Latitude *</label>\n                                <input name=\"latitude\" type=\"number\" class=\"form-control\" required min=\"0\" max=\"360\" step=\"any\" tabindex=\"6\">\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"row form-group\">\n                        <div class=\"col-md-11\">\n                            <div class=\"form-group label-floating is-empty\">\n                                <label class=\"control-label\">Description</label>\n                                <textarea name=\"description\" type=\"text\" class=\"form-control\" rows=\"4\" tabindex=\"7\"></textarea>\n                            </div>\n                        </div>\n                    </div>\n                </fieldset>\n            </div>\n            <div class=\"modal-footer\">\n                <button type=\"button\" id=\"save-btn\" class=\"btn btn-primary btn-round\" onclick=\"createGateway()\">&nbsp;Save&nbsp;</button>\n                <button type=\"button\" class=\"btn btn-danger btn-round\" data-dismiss=\"modal\" onclick=\"removeAddGateway()\">Close</button>\n            </div>\n        </div>\n        </div>\n    </div>\n    `;\n\n    $('body').append(popup);\n    $('#showAddGateway').click();\n    $('#addGateway').click(function(e){\n        let target = Array.from(e.target.classList).join();\n        console.log(target);\n        if (target == 'modal,fade'){\n            removeAddGateway();\n        }\n    });\n}\n\n\nwindow.removeAddGateway = function(){\n    $('#showAddGateway').remove();\n    $('#addGateway').remove();\n    $('.modal-backdrop').remove();\n}\n\n//# sourceURL=webpack:///./src/gateway/addPopupNewGW.js?");

/***/ }),

/***/ "./src/gateway/data.js":
/*!*****************************!*\
  !*** ./src/gateway/data.js ***!
  \*****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Gateway__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Gateway */ \"./src/gateway/Gateway.js\");\n/* harmony import */ var _Gateway__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Gateway__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _PLC__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PLC */ \"./src/gateway/PLC.js\");\n/* harmony import */ var _PLC__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_PLC__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Tag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Tag */ \"./src/gateway/Tag.js\");\n/* harmony import */ var _Tag__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Tag__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nwindow.data = {\n    external: [],\n    internal: [],\n\n    getGatewayById: function(id){\n        let gateway;\n        this.external.forEach(function(ele, index){\n            if (ele.id == id) gateway = ele;\n        });\n        \n        return gateway;\n    },\n\n    isDuplicateGateway: function(name, id){\n        let status = false;\n        if (data.external.length == 0){\n            return false;\n        }\n    \n        data.external.forEach(function(ele, index){\n            if (ele.id == id) status = true;\n        })\n    \n        return status; \n    },\n\n    updateGatewayById: function(id, newGateway){\n        let index = this.external.findIndex(function(gateway){\n            return gateway.id == id;\n        })\n        // id, name, long, lat, addrr, des, scanTime\n        this.external[index].updateName(newGateway.name);\n        this.external[index].updateLongitude(newGateway.longitude);\n        this.external[index].updateLatitude(newGateway.latitude);\n        this.external[index].updatePosition(newGateway.position);\n        this.external[index].updateDescription(newGateway.description);\n        this.external[index].updateScantime(newGateway.scanTime);\n        this.external[index].updateModifyTime();\n\n        return [this.external[index], index];\n    },\n\n    deleteGatewayById: function(id){\n        let index = this.external.findIndex(function(gateway){\n            return gateway.id == id;\n        })\n        // Remove element at index\n        this.external.splice(index, 1);\n        console.log(this.external);\n    },\n\n    getListGateway: function(){\n        let list = this.external.map((gateway) => {\n            gateway.updatePLCnTag();\n            return {\n                name: `GW: ${gateway.name} [PLC: ${gateway.PLCnum} | Tag: ${gateway.Tagnum}]`,\n                latLng: [gateway.latitude, gateway.longitude]      \n            }\n        })\n        console.log(list)\n        return list;\n    },\n\n    isDuplicatePLC: function(id, newPLC){\n        let result = false;\n\n        let index = this.external.findIndex(function(gateway){\n            return gateway.id == id;\n        });\n\n        this.external[index].PLCs.forEach(function(plc){\n            if (plc.IPaddrress.trim() == newPLC.IPaddrress.trim() || plc.name.trim() == newPLC.name.trim()) result = true;\n        })\n         \n        return result;\n    },\n\n    addPLC2GatewayById: function(id, newPLC){\n        let index = this.external.findIndex(function(gateway){\n            return gateway.id == id;\n        });\n\n        if (this.isDuplicatePLC(id, newPLC)) return false;\n        else {\n            this.external[index].PLCs.push(newPLC);\n            return true;\n        }\n        \n    },\n\n    updatePLCByNamenId: function(id, name, newPLC){\n        let index = this.external.findIndex(function(gateway){\n            return gateway.id == id;\n        });\n\n        let indexPLC = this.external[index].PLCs.findIndex(function(plc){\n            return plc.name == name;\n        })\n  \n        this.external[index].PLCs[indexPLC].producer    = newPLC.producer;\n        this.external[index].PLCs[indexPLC].type        = newPLC.type;\n        this.external[index].PLCs[indexPLC].IPaddrress  = newPLC.IPaddrress;\n        this.external[index].PLCs[indexPLC].protocol    = newPLC.protocol;\n        this.external[index].PLCs[indexPLC].description = newPLC.description;\n        this.external[index].PLCs[indexPLC].modified    = Date.now();\n\n    },\n\n    deletePLCByNamenId: function(id, name){\n        let index = this.external.findIndex(function(gateway){\n            return gateway.id == id;\n        });\n\n        let indexPLC = this.external[index].PLCs.findIndex(function(plc){\n            return plc.name == name;\n        });\n\n        this.external[index].PLCs.splice(indexPLC, 1);\n        return true;\n    },\n\n     /**\n     * @param {string} gwId: id of gateway which include PLC' name\n     * @param {string} plcName: name of PLC which include Tag to add\n     */\n    isDuplicateExternalTag: function(gwId, plcName, tagName){\n        console.log(arguments)\n        let index = this.external.findIndex(function(gateway){\n            return gateway.id == gwId;\n        });\n        console.log('index: ' + index)\n        \n        let indexPLC = this.external[index].PLCs.findIndex(function(plc){\n            return plc.name == plcName;\n        })\n\n        console.log('indexPLC: ' + indexPLC)\n\n        if (indexPLC == -1) return false;\n\n        let resutl = data.external[index].PLCs[indexPLC].Tags.findIndex((tag) => tag.name == tagName);\n        if (resutl == -1) return false;\n        return true;\n    },\n\n    addTag2PLCByIdName: function(gwId, plcName, tag){\n        let index = this.external.findIndex(function(gateway){\n            return gateway.id == gwId;\n        });\n\n        let indexPLC = this.external[index].PLCs.findIndex(function(plc){\n            return plc.name == plcName;\n        })\n\n        if (this.isDuplicateExternalTag(gwId, plcName, tag.name)){\n            return false;\n        }\n\n        data.external[index].PLCs[indexPLC].Tags.push(tag);\n        return true;\n    },\n    /**\n     * @param {string} gwId: id of gateway which include PLC' name\n     * @param {string} plcName: name of PLC to add tag\n     */\n    updateTag2PLCByIdName: function(gwId, plcName, newTag){\n        let indexGw  = this.external.findIndex((gateway) => gateway.id == gwId);\n        let indexPLC = this.external[indexGw].PLCs.findIndex((plc) => plc.name == plcName);\n        let indexTag = this.external[indexGw].PLCs[indexPLC].Tags.findIndex((tag) => tag.name == newTag.name);\n\n        if (indexTag == -1) return false;\n\n        let oldTag = this.external[indexGw].PLCs[indexPLC].Tags[indexTag];\n        newTag.createdTime = oldTag.createdTime;\n        this.external[indexGw].PLCs[indexPLC].Tags.splice(indexTag, 1, newTag);\n        return true;\n    },\n\n     /**\n     * @param {string} gwId: id of gateway which include PLC' name\n     * @param {string} plcName: name of PLC to add tag\n     * @param {string} tagName: name of Tag to delete\n     */\n    deleteTagByIdName: function(gwId, plcName, tagName){\n        let index = this.external.findIndex(function(gateway){\n            return gateway.id == gwId;\n        });\n\n        let indexPLC = this.external[index].PLCs.findIndex(function(plc){\n            return plc.name == plcName;\n        })\n\n        let indexTag = data.external[index].PLCs[indexPLC].Tags.findIndex((tag) => tag.name == tagName);\n        data.external[index].PLCs[indexPLC].Tags.splice(indexTag, 1);\n    },\n\n    isDuplicateInternalTag: function(tagName){\n        if (typeof data.internal.find((tag) => tag.name == tagName) == 'undefined'){\n            return false;\n        }\n        return true;\n    },\n\n    addInternalTag: function(tagName, scale, offset, dataType, unit, description){\n        if (this.isDuplicateInternalTag()){\n            return false;\n        }\n        data.internal.push({\n            name: tagName, scale, offset, dataType, unit, description\n        })\n        return true;\n    },\n\n    updateInternalTag: function(tagName, scale, offset, dataType, unit, description){\n        if (!this.isDuplicateInternalTag()) return false;\n        let index = data.internal.findIndex((tag)=> tag.name == tagName);\n        data.internal.splice(index, 1, {\n            tagName, scale, offset, dataType, unit \n        });\n    },\n\n    deleteInteralTag: function(tagName){\n        let index = data.internal.findIndex((tag)=> tag.name == tagName);\n        if (index == -1) return false;\n    \n        data.internal.splice(index, 1);\n        return true;\n    },\n\n    getInternalTagByName: function(tagName){\n        let index = data.internal.findIndex((tag) => tag.name == tagName);\n        if (index == -1) return false;\n        return data.internal[index];\n    }\n\n};\n\n\n\n//# sourceURL=webpack:///./src/gateway/data.js?");

/***/ }),

/***/ "./src/gateway/initData.js":
/*!*********************************!*\
  !*** ./src/gateway/initData.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("const Gateway = __webpack_require__(/*! ./Gateway */ \"./src/gateway/Gateway.js\");\nconst PLC     = __webpack_require__(/*! ./PLC */ \"./src/gateway/PLC.js\");\nconst Tag     = __webpack_require__(/*! ./Tag */ \"./src/gateway/Tag.js\");\nconst initPagigation = __webpack_require__(/*! ./pagigation */ \"./src/gateway/pagigation.js\");\n/**\n * @summary function will self-call when render page\n */\nmodule.exports = function(){\n    $.get({\n        url: '/gateway/fetch',\n    }).done(function(result){\n        console.log('Fetch Success: ', result);\n        if (result == false){\n            console.log('Fetch error at server');\n            return;\n        }\n\n        // Update remote data to current data structure\n        result.data.external.forEach(function(gw){\n\n            let gateway = new Gateway(gw.id, gw.name, gw.longitude, gw.latitude, gw.position, gw.description, gw.scanTime);\n            gateway.createdTime = gw.createdTime;\n            gateway.modified    = gw.modified;\n\n            gw.PLCs.forEach(function(plc){\n                let plc_ = new PLC(plc.producer, plc.type, plc.name, plc.IPaddrress, plc.protocol, plc.description);\n                plc_.createdTime = plc.createdTime;\n                plc_.modified    = plc.modified;\n\n                plc.Tags.forEach(function(tg){\n                    let tag = new Tag(tg.name, tg.scale, tg.offset, tg.minimum, \n                        tg.maximum, tg.description, tg.unit, tg.memoryAdd,\n                        tg.dataType, tg.deadband, tg.trend, tg.log, tg.alarm);\n                    tag.createdTime = tg.createdTime;\n\n                    plc_.Tags.push(tag);\n                })\n\n                gateway.PLCs.push(plc_);\n            })\n            data.external.push(gateway);\n        })\n\n        result.data.internal.forEach(function(internalTag, index){\n            data.internal.push(internalTag);\n        })\n\n        console.log('Data is: ', data);\n        //function renderRow(gateway, index)\n        data.external.forEach(function(gatew, index){\n            renderRow(gatew, index+1);\n        })\n\n        initPagigation(data.external.length, 'gateway');\n\n    }).fail(function(error){\n        console.log('Fetch Fail: ', error);\n    })\n}\n\n\n//# sourceURL=webpack:///./src/gateway/initData.js?");

/***/ }),

/***/ "./src/gateway/main.js":
/*!*****************************!*\
  !*** ./src/gateway/main.js ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(/*! ./data */ \"./src/gateway/data.js\");\n__webpack_require__(/*! ./addPopupEditGW */ \"./src/gateway/addPopupEditGW.js\");\n__webpack_require__(/*! ./addPopupNewGW */ \"./src/gateway/addPopupNewGW.js\");\n__webpack_require__(/*! ./onGateway */ \"./src/gateway/onGateway.js\");\n__webpack_require__(/*! ./onPLC */ \"./src/gateway/onPLC.js\");\n__webpack_require__(/*! ./onTag */ \"./src/gateway/onTag.js\");\n__webpack_require__(/*! ./save2DB */ \"./src/gateway/save2DB.js\")\n\nconst Gateway   = __webpack_require__(/*! ./Gateway */ \"./src/gateway/Gateway.js\");\nconst PLC       = __webpack_require__(/*! ./PLC */ \"./src/gateway/PLC.js\");\nconst Tag       = __webpack_require__(/*! ./Tag */ \"./src/gateway/Tag.js\");\nconst vectorMap = __webpack_require__(/*! ./vectorMap */ \"./src/gateway/vectorMap.js\");\nconst initDataFromDB = __webpack_require__(/*! ./initData */ \"./src/gateway/initData.js\");\n\n\ninitDataFromDB();\n\nvectorMap.renderVectorMap();\nsetTimeout(function(){\n    vectorMap.renderVectorMap();\n}, 1000)\n\n// Display PLC table in Edit Gateway popup\nwindow.displayPLCTable = function(){\n    hiddenTable();\n    $('#PLC-table').removeClass('hidden');\n    // Reset Switch (new & edit) to create new\n    $('#switch-PLC input')[0].checked = false;\n    changeModePLC();\n\n\n}\n\n\n// Display Tag table in Edit Gateway popup\nwindow.displayTagTable = function(id){\n    hiddenTable();\n    $('#Tag-table').removeClass('hidden');\n    // Reset Switch (new & edit) to create new\n    $('#switch-Tag input').prop('checked', false);\n    changeModeTAG();\n    \n    // Add PLC list from gateway to create new Tag page\n    let gateway = data.getGatewayById(id);\n    let plcList = gateway.getPLCList();\n\n    $('.external-tag select[name=select-plc]').empty();\n    plcList.forEach((plcName)=>{\n        $('.external-tag select[name=select-plc]').append(`\n            <option value=\"${plcName}\" selected>${plcName.toUpperCase()}</option>\n        `)\n    })\n    $('.selectpicker').selectpicker('refresh');\n    // Show tag table\n    renderTagTable(id);\n\n}\n\n// Hide all table (PLC & Tag) in Edit Gateway popup\nwindow.hiddenTable = function(){\n    $('#PLC-table').addClass('hidden');\n    $('#Tag-table').addClass('hidden');\n    $('#switch-PLC').addClass('hidden');\n    $('#switch-Tag').addClass('hidden');\n}\n\n\nwindow.changeModePLC = function(){\n    let status = $('#switch-PLC input')[0].checked;\n\n    if (status){\n        // PLC in Edit mode\n        $('#PLC-new').addClass('hidden');\n        $('#PLC-edit').removeClass('hidden');\n\n    }else{\n        // PLC in Create New mode\n        $('#PLC-new').removeClass('hidden');\n        $('#PLC-edit').addClass('hidden');\n\n        setTimeout(function(){\n            refreshPLCInput();\n        }, 1000)\n    }\n}\n\nwindow.changeModeTAG = function(){\n    let status = $('#switch-Tag input')[0].checked;\n    console.log('checked:', $('#switch-Tag input')[0].checked)\n    if (status){\n        // Tag in Edit mode\n        $('#Tag-new').addClass('hidden');\n        $('#Tag-edit').removeClass('hidden');\n    }else{\n        // Tag in Create New mode\n        $('#Tag-new').removeClass('hidden');\n        $('#Tag-edit').addClass('hidden');\n\n        $('#type-tag').prop('disabled', false);\n        setTimeout(function(){\n            refreshTagInput();\n        }, 1000)\n    }\n}\n\nwindow.refreshPLCInput = function(){\n    // Hidden switch NEW-EDIT mode\n    $('#switch-PLC').addClass('hidden');\n    // Enable input PLC's name field\n    $('#plc-name').prop('disabled', false);\n    // Clear all input fields\n    $('#plc-producer').val('');\n    $('#plc-type').val('');\n    $('#plc-protocol').val('');\n    $('#plc-name').val(\"\");\n    $('#plc-address').val(\"\");\n    $('#plc-des').val(\"\");\n\n    $('.selectpicker').selectpicker('refresh');\n    disableFloatingLabel();\n}\n\nwindow.refreshTagInput = function(){\n    // Hidden switch NEW-EDIT mode\n    $('#switch-Tag').addClass('hidden');\n    // Enable name fields of tag page\n    $('.external-tag input[name=name]').prop('disabled', false);\n    $('.internal-tag input[name=name]').prop('disabled', false);\n    // Clear all input fields\n    $('.internal-tag input[name=name]').val('');\n    $('.internal-tag input[name=scale]').val('') ;\n    $('.internal-tag input[name=offset]').val('');\n    $('.internal-tag select[name=select-datatype]').val('');\n    $('.internal-tag input[name=unit]').val('');\n\n    $('.external-tag select[name=select-plc]').val('');\n    $('.external-tag input[name=name]').val('');\n    $('.external-tag input[name=scale]').val('');\n    $('.external-tag input[name=offset]').val('');\n    $('.external-tag input[name=minimum]').val('');\n    $('.external-tag input[name=maximum]').val('');\n    $('.external-tag select[name=select-datatype]').val('');\n    $('.external-tag input[name=unit]').val('');\n    $('#alarm-enable').prop('checked', false);\n    $('.external-tag input[name=alarm-hihi]').val('');\n    $('.external-tag input[name=alarm-hi]').val('');\n    $('.external-tag input[name=alarm-low]').val('');\n    $('.external-tag input[name=alarm-lowlow]').val('');\n    $('#trend-enable').prop('checked', false);\n    $('#log-enable').prop('checked', false);\n    $('.external-tag input:radio[value=read]').prop('checked', true);\n    $('.external-tag input:radio[value=readwrite]').prop('checked', false);\n    $('.external-tag input[name=m-address]').val('');\n    $('.external-tag input[name=deadband]').val('');\n    $('#tag-description').val('');\n\n    $('#alarm-enable').prop('checked', false);\n    showAlarmInput();\n\n    $('.selectpicker').selectpicker('refresh');\n    disableFloatingLabel();\n}\n\n\n\n//# sourceURL=webpack:///./src/gateway/main.js?");

/***/ }),

/***/ "./src/gateway/onGateway.js":
/*!**********************************!*\
  !*** ./src/gateway/onGateway.js ***!
  \**********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_utils__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _vectorMap__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vectorMap */ \"./src/gateway/vectorMap.js\");\n/* harmony import */ var _vectorMap__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_vectorMap__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Gateway__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Gateway */ \"./src/gateway/Gateway.js\");\n/* harmony import */ var _Gateway__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Gateway__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _PLC__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PLC */ \"./src/gateway/PLC.js\");\n/* harmony import */ var _PLC__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_PLC__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _Tag__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Tag */ \"./src/gateway/Tag.js\");\n/* harmony import */ var _Tag__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_Tag__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nlet numRow;\n// Add to Create new button to save new gateway\nwindow.createGateway = function(){\n\n    let error = false;\n    let {id, name, long, lat, addrr, des, scanTime} = {\n        id: $('input[name=id]').val(),\n        name: $('input[name=name]').val(),\n        long: parseFloat($('input[name=longitude]').val()),\n        lat:  parseFloat($('input[name=latitude]').val()),\n        addrr: $('input[name=address]').val(),\n        des:  $('textarea[name=description]').val() || \"\",\n        scanTime: parseInt($('input[name=scan-time]').val())\n    }\n\n    // Check error on every input tag\n    if (id.trim().length == 0){\n       $('input[name=id]').parent().addClass('has-error'); error = true;\n    }\n\n    if (name.trim().length == 0){\n       $('input[name=name]').parent().addClass('has-error'); error = true;\n    }\n\n    if (isNaN(long)){\n       $('input[name=longitude]').parent().addClass('has-error'); error = true;\n    }\n\n    if (isNaN(lat)){\n       $('input[name=latitude]').parent().addClass('has-error'); error = true;\n    }\n\n    if (addrr.trim().length == 0){\n       $('input[name=address]').parent().addClass('has-error'); error = true;\n    }\n\n    if (isNaN(scanTime) || scanTime < 500){\n       $('input[name=scan-time]').parent().addClass('has-error'); error = true;\n    }\n    \n    if (error || data.isDuplicateGateway(name, id)){\n       Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"showNotification\"])('top', 'right', 'warning', \"This Gateway is a DUPLICATE or ERROR, please enter it again\");\n       return;\n    }\n    \n    // Create new Gateway object\n\n    let gateway = new _Gateway__WEBPACK_IMPORTED_MODULE_2___default.a(id, name, long, lat, addrr, des, scanTime);\n    data.external.push(gateway);\n    Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"showNotification\"])('top', 'right', 'success', \"Adding Gateway is success\");\n    // Render a row of new gateway to table\n    renderRow(gateway, data.external.length);\n    _vectorMap__WEBPACK_IMPORTED_MODULE_1___default.a.renderVectorMap();\n    numRow = data.external.length;\n    $('#last-gateway').click();\n}\n\nwindow.updateGateway = function(id){\n\n   let error = false;\n   let { name, long, lat, addrr, des, scanTime } = {\n       name: $('input[name=name]').val(),\n       long: parseFloat($('input[name=longitude]').val()),\n       lat: parseFloat($('input[name=latitude]').val()),\n       addrr: $('input[name=address]').val(),\n       des: $('textarea[name=description]').val() || \"\",\n       scanTime: parseInt($('input[name=scan-time]').val())\n   }\n\n    // Check error on every input tag\n    if (name.trim().length == 0){\n       $('input[name=name]').parent().addClass('has-error'); error = true;\n    }\n\n    if (isNaN(long)){\n       $('input[name=longitude]').parent().addClass('has-error'); error = true;\n    }\n\n    if (isNaN(lat)){\n       $('input[name=latitude]').parent().addClass('has-error'); error = true;\n    }\n\n    if (addrr.trim().length == 0){\n       $('input[name=address]').parent().addClass('has-error'); error = true;\n    }\n\n    if (isNaN(scanTime) || scanTime < 500){\n       $('input[name=scan-time]').parent().addClass('has-error'); error = true;\n    }\n    \n    if (error){\n       Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"showNotification\"])('top', 'right', 'danger', \"This Gateway is a ERROR, please enter it again\");\n       return;\n    }\n    \n    // Update Gateway object\n    let newGateway = new _Gateway__WEBPACK_IMPORTED_MODULE_2___default.a(id, name, long, lat, addrr, des, scanTime)\n    let [gateway, index] = data.updateGatewayById(id, newGateway);\n    console.log(\"update gateway success in data\")\n    // Render a row of new gateway to table\n    reRenderRow(`gateway-${id}`, gateway, index+1);\n    _vectorMap__WEBPACK_IMPORTED_MODULE_1___default.a.renderVectorMap();\n    Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"showNotification\"])('top', 'right', 'success', \"Update Gateway is success\");\n}\n\n\nwindow.deleteGateway = function(id){\n    console.log(data.external);\n\n    swal({\n        title: 'Are you sure?',\n        text: 'You will not be able to recover this Gateway!',\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, delete it!',\n        cancelButtonText: 'No, keep it',\n        confirmButtonClass: \"btn btn-success\",\n        cancelButtonClass: \"btn btn-danger\",\n        buttonsStyling: false\n    }).then(function () {\n\n        data.deleteGatewayById(id);\n        // Delete all row of gateway \n        $('#render-row').empty();\n        data.external.forEach(function(gateway, index){\n            renderRow(gateway, index+1);\n        })\n        _vectorMap__WEBPACK_IMPORTED_MODULE_1___default.a.renderVectorMap();\n\n        numRow = data.external.length;\n        $('#last-gateway').click();\n\n        swal({\n            title: 'Deleted!',\n            text: 'Your imaginary file has been deleted.',\n            type: 'success',\n            confirmButtonClass: \"btn btn-success\",\n            buttonsStyling: false\n        })\n    }, function (dismiss) {\n        // dismiss can be 'overlay', 'cancel', 'close', 'esc', 'timer'\n        if (dismiss === 'cancel') {\n            swal({\n                title: 'Cancelled',\n                text: 'Your Gateway is safe :)',\n                type: 'error',\n                confirmButtonClass: \"btn btn-info\",\n                buttonsStyling: false\n            })\n        }\n    })\n\n}\n\n\n// Render a row of table Gateway\nwindow.renderRow = function(gateway, index){\n    numRow = index;\n    gateway.updatePLCnTag();\n    const isFirstRender = (index < 11) ? '' : 'display: none;';\n    const bgColor = (index % 2 == 0) ? 'background-color: #e7e497;' : '';\n    // Index in range of [1...N]\n    $('#render-row').append(`\n        <tr id=\"gateway-${gateway.id}\" class=\"gateway-${index}\" style=\"${bgColor} ${isFirstRender}\">\n            <td class=\"text-center\">${(index<10)?\"0\"+index:index}</td>\n            <td>${gateway.name}</td>\n            <td>${Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"fortmatTime\"])(gateway.createdTime)}</td>\n            <td>${Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"fortmatTime\"])(gateway.modified)}</td>\n            <td class=\"text-center\">${gateway.PLCnum}</td>\n            <td class=\"text-center\">${gateway.Tagnum}</td>\n            <td class=\"text-center\"><i class=\"material-icons ${(gateway.status)?\"connected\":\"disconnected\"}\">lens</i>\n            </td>\n            <td class=\"td-actions text-center\">\n                <button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"\n                    data-original-title=\"Gateway Info\" title=\"\"\n                    data-toggle=\"collapse\" data-target=\"#row-${index}\">\n                    <i class=\"material-icons\">info</i>\n                </button>\n                <button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"\n                    data-original-title=\"Edit Gateway\" title=\"\" onclick=\"showEditGateway('${gateway.id}')\">\n                    <i class=\"material-icons\">edit</i>\n                </button>\n                <button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"\n                    data-original-title=\"Delete Gateway\" title=\"\" onclick=\"deleteGateway('${gateway.id}')\">\n                    <i class=\"material-icons\">close</i>\n                </button>\n            </td>\n        </tr>\n        <tr id=\"row-${index}\" class=\"collapse\" style=\"background-color: #dddfd4;\">\n            <td></td>\n            <td colspan=\"7\" rowspan=\"3\">                                                      \n                <div class=\"row\">\n                    <div class=\"col-md-4\"><b>ID</b>:  ${gateway.id}</div>\n                    <div class=\"col-md-4\"><b>Name</b>:  ${gateway.name}</div>\n                    <div class=\"col-md-4\"><b>Scan Time</b>:  ${gateway.scanTime}</div>\n                </div>  \n                <div class=\"row\">\n                    <div class=\"col-md-4\"><b>Latitude</b>:  ${gateway.latitude}</div>\n                    <div class=\"col-md-4\"><b>Longitude</b>:  ${gateway.longitude}</div>\n                    <div class=\"col-md-4\"><b>Create Time</b>:  ${Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"fortmatTime\"])(gateway.createdTime)}</div>\n                </div>  \n                <div class=\"row\">\n                    <div class=\"col-md-4\"><b>Number PLC</b>:  ${gateway.PLCnum}</div>\n                    <div class=\"col-md-4\"><b>Number Tag</b>:  ${gateway.Tagnum}</div>\n                    <div class=\"col-md-4\"><b>Modified Time</b>:  ${Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"fortmatTime\"])(gateway.modified)}</div>\n                </div>  \n                <div class=\"row\">\n                    <div class=\"col-md-12\"><b>Position</b>:  ${gateway.position}</div>\n                </div> \n                <div class=\"row\">\n                    <div class=\"col-md-12\"><b>Description</b>:  ${gateway.description}</div>\n                </div>                                                       \n            </td>\n        </tr>\n        <tr></tr>\n        <tr></tr>\n    `)\n  }\n\n  // Re-render a row of table Gateway\n  window.reRenderRow = function(htmlId, gateway, index){\n\n    // Remove old row of gateway\n    $(`#${htmlId}`).empty();\n\n    // Re-render a new row of gateway\n    $(`#${htmlId}`).append(`\n        <td class=\"text-center\">${(index<10)?\"0\"+index:index}</td>\n        <td>${gateway.name}</td>\n        <td>${Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"fortmatTime\"])(gateway.createdTime)}</td>\n        <td>${Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"fortmatTime\"])(gateway.modified)}</td>\n        <td class=\"text-center\">${gateway.PLCnum}</td>\n        <td class=\"text-center\">${gateway.Tagnum}</td>\n        <td class=\"text-center\"><i class=\"material-icons ${(gateway.status)?\"connected\":\"disconnected\"}\">lens</i>\n        </td>\n        <td class=\"td-actions text-center\">\n            <button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"\n                data-original-title=\"Gateway Info\" title=\"\"\n                data-toggle=\"collapse\" data-target=\"#row-${index}\">\n                <i class=\"material-icons\">info</i>\n            </button>\n            <button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"\n                data-original-title=\"Edit Gateway\" title=\"\" onclick=\"showEditGateway('${gateway.id}')\">\n                <i class=\"material-icons\">edit</i>\n            </button>\n            <button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"\n                data-original-title=\"Delete Gateway\" title=\"\" onclick=\"deleteGateway('${gateway.id}')\">\n                <i class=\"material-icons\">close</i>\n            </button>\n    `)\n  }\n\n\n// Handle page navigation action\n$('#first-gateway').click(function(){\n    console.log(numRow)\n    for (let i = 1; i<= numRow; i++){\n        if (i <= 10) $(`.gateway-${i}`).show();\n        else         $(`.gateway-${i}`).hide();\n    }\n\n    if (numRow <= 20) {\n        $('#back-gateway').html('1');\n        $('#current-gateway').html('2');\n        $('#next-gateway').parent().hide();\n        $('#back-gateway').parent().addClass('active');\n        $('#current-gateway').parent().removeClass('active');\n    }else{\n        $('#back-gateway').html('1');\n        $('#current-gateway').html('2');\n        $('#next-gateway').parent().show();\n        $('#next-gateway').html('3');\n        $('#back-gateway').parent().addClass('active');\n        $('#current-gateway').parent().removeClass('active');\n        $('#next-gateway').parent().removeClass('active');\n    }\n    $('#pagination-gateway p').text(`Showing 1 to 10 of ${numRow} entries`);\n})\n\n$('#back-gateway').click(function(){    \n    if (numRow <= 20) {\n        for (let i = 1; i<= numRow; i++){\n            if (i <= 10) $(`.gateway-${i}`).show();\n            else         $(`.gateway-${i}`).hide();\n        }\n\n        $('#back-gateway').parent().show();\n        $('#current-gateway').parent().show();\n        $('#back-gateway').parent().addClass('active');\n        $('#current-gateway').parent().removeClass('active');\n        $('#pagination-gateway p').text(`Showing 1 to 10 of ${numRow} entries`);\n    }else{\n        let current = parseInt( $('#back-gateway').html());\n\n        for (let i = 1; i<= numRow; i++){\n            if (i <= current*10 && i > current*10-10) \n                $(`.gateway-${i}`).show();\n            else         \n                $(`.gateway-${i}`).hide();\n        }\n\n        if (current > 1){ // Rotate pagination\n            $('#back-gateway').html(current-1);\n            $('#current-gateway').html(current);\n            $('#next-gateway').html(current+1);\n            $('#back-gateway').parent().removeClass('active');\n            $('#current-gateway').parent().addClass('active');\n            $('#next-gateway').parent().removeClass('active');\n            $('#pagination-gateway p').text(`Showing ${current*10-9} to ${current*10} of ${numRow} entries`);\n        }else{         // Don't rotate pagination\n            $('#back-gateway').parent().addClass('active');\n            $('#current-gateway').parent().removeClass('active');\n            $('#next-gateway').parent().removeClass('active');\n            $('#pagination-gateway p').text(`Showing 1 to 10 of ${numRow} entries`);\n        }\n        \n    }\n    \n})\n\n$('#current-gateway').click(function(){\n    let current = parseInt($('#current-gateway').html());\n    if (current == 2){\n        for (let i = 1; i<= numRow; i++){\n            if ( i > 10 && i <= 20) $(`.gateway-${i}`).show();\n            else         $(`.gateway-${i}`).hide();\n        }\n\n        $('#back-gateway').parent().removeClass('active');\n        $('#current-gateway').parent().addClass('active');\n        $('#next-gateway').parent().removeClass('active');\n        $('#pagination-gateway p').text(`Showing 11 to ${(numRow>20)? '20': numRow} of ${numRow} entries`);\n    }else if(current == Math.ceil(numRow/10)-1){\n        for (let i = 1; i<= numRow; i++){\n            if (i <= current*10 && i > current*10-10) $(`.gateway-${i}`).show();\n            else         $(`.gateway-${i}`).hide();\n        }\n\n        $('#back-gateway').parent().removeClass('active');\n        $('#current-gateway').parent().addClass('active');\n        $('#next-gateway').parent().removeClass('active');\n        $('#pagination-gateway p').text(`Showing ${current*10-9} to ${current*10} of ${numRow} entries`);\n    }\n})\n\n$('#next-gateway').click(function(){\n    let current = parseInt($('#next-gateway').html());\n\n    for (let i = 1; i <= numRow; i++) {\n        if (i <= current * 10 && i > current * 10 - 10) $(`.gateway-${i}`).show();\n        else $(`.gateway-${i}`).hide();\n    }\n\n    if (current == 3 && numRow <= 30) { // Don't rotate pagination\n        $('#back-gateway').parent().removeClass('active');\n        $('#current-gateway').parent().removeClass('active');\n        $('#next-gateway').parent().addClass('active');\n        $('#pagination-gateway p').text(`Showing ${current*10-9} to ${numRow} of ${numRow} entries`);\n    } else if (current >= 3 && current < Math.ceil(numRow/10)){         // Rotate pagination\n        $('#back-gateway').html(current - 1);\n        $('#current-gateway').html(current);\n        $('#next-gateway').html(current + 1);\n        $('#back-gateway').parent().removeClass('active');\n        $('#current-gateway').parent().addClass('active');\n        $('#next-gateway').parent().removeClass('active');\n        $('#pagination-gateway p').text(`Showing ${current*10-9} to ${current*10} of ${numRow} entries`);\n    }else{\n        $('#back-gateway').parent().removeClass('active');\n        $('#current-gateway').parent().removeClass('active');\n        $('#next-gateway').parent().addClass('active');\n        $('#pagination-gateway p').text(`Showing ${current*10-9} to ${numRow} of ${numRow} entries`);\n    }\n    \n})\n\n$('#last-gateway').click(function(){\n    for (let i = 1; i<= numRow; i++){\n        if (i > 10*Math.floor(numRow/10)) $(`.gateway-${i}`).show();\n        else         $(`.gateway-${i}`).hide();\n    }\n\n    if (numRow <= 20) {\n        $('#back-gateway').parent().show();\n        $('#back-gateway').html('1');\n        $('#current-gateway').parent().show();\n        $('#current-gateway').html('2');\n        $('#next-gateway').parent().hide();\n        $('#back-gateway').parent().removeClass('active');\n        $('#current-gateway').parent().addClass('active');\n    }else{\n        $('#back-gateway').parent().show();\n        $('#back-gateway').html(Math.ceil(numRow/10)-2);\n        $('#current-gateway').parent().show();\n        $('#current-gateway').html(Math.ceil(numRow/10)-1);\n        $('#next-gateway').parent().show();\n        $('#next-gateway').html(Math.ceil(numRow/10));\n        $('#back-gateway').parent().removeClass('active');\n        $('#current-gateway').parent().removeClass('active');\n        $('#next-gateway').parent().addClass('active');\n    }\n    $('#pagination-gateway p').text(`Showing ${10*Math.floor(numRow/10)+1} to ${numRow} of ${numRow} entries`);\n})\n\n//# sourceURL=webpack:///./src/gateway/onGateway.js?");

/***/ }),

/***/ "./src/gateway/onPLC.js":
/*!******************************!*\
  !*** ./src/gateway/onPLC.js ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_utils__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var ip_validator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ip-validator */ \"./node_modules/ip-validator/lib/validator.js\");\n/* harmony import */ var ip_validator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(ip_validator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Gateway__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Gateway */ \"./src/gateway/Gateway.js\");\n/* harmony import */ var _Gateway__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Gateway__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _PLC__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PLC */ \"./src/gateway/PLC.js\");\n/* harmony import */ var _PLC__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_PLC__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _Tag__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Tag */ \"./src/gateway/Tag.js\");\n/* harmony import */ var _Tag__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_Tag__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _pagigation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pagigation */ \"./src/gateway/pagigation.js\");\n/* harmony import */ var _pagigation__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_pagigation__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n\nwindow.numRowPLC = 0;\n\nwindow.changePLCList = function () {\n    let producer = $('#plc-producer').val();\n    console.log(producer);\n    switch (producer) {\n        case 'siemens':\n            $('#plc-type').empty();\n            $('#plc-type').append(`\n                <option value=\"S7-300\">S7-300</option>\n                <option value=\"s7-1200\">S7-1200</option>\n                <option value=\"s7-1500\">S7-1500</option>\n            `)\n\n            break;\n        case 'schneider':\n            $('#plc-type').empty()\n            break;\n        case 'mitsubishi':\n            $('#plc-type').empty()\n            break;\n    }\n\n    $('.selectpicker').selectpicker('refresh');\n}\n\n\nwindow.changePLCTypeList = function () {\n    let PLCType = $('#plc-type').val();\n    console.log(PLCType)\n    switch (PLCType) {\n        case 's7-1500':\n            $('#plc-protocol').empty();\n            $('#plc-protocol').append(`\n                <option value=\"modbus\">Modbus TCP</option>\n                <option value=\"opcua\">OPC UA</option>\n                <option value=\"s7\">Ethernet S7</option>\n            `)\n            break;\n        case 's7-300':\n        case 's7-1200':\n            $('#plc-protocol').empty();\n            $('#plc-protocol').append(`\n                <option value=\"modbus\">Modbus TCP</option>\n                <option value=\"s7\">Ethernet S7</option>\n            `)\n            break;\n    }\n\n    $('.selectpicker').selectpicker('refresh');\n\n}\n\n\n\nwindow.createNewPLC = function(id){\n    let error = false;\n    let [producer, type, name, IPaddrress, protocol, description] = [\n        $('#plc-producer').val(), \n        $('#plc-type').val(),\n        $('#plc-name').val(),\n        $('#plc-address').val(),\n        $('#plc-protocol').val(),\n        $('#plc-des').val()\n    ]\n\n    console.log([producer, type, name, IPaddrress, protocol, description]);\n    if (producer.trim() == \"\" || producer == undefined){\n        error = true;\n    }\n    if (type.trim() == \"\" || type == undefined){\n        error = true;\n    }\n    if (name.trim().length == 0){\n        error = true;\n        $('#plc-name').parent().addClass('has-error');\n    }\n    if (!ip_validator__WEBPACK_IMPORTED_MODULE_1___default.a.ipv4(IPaddrress.trim())){  \n        error = true;\n        $('#plc-address').parent().addClass('has-error');\n    }\n    if (protocol.trim().length == 0){\n        error = true;\n        $('#plc-protocol').parent().addClass('has-error');\n    }\n\n    if (error){\n        Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"showNotification\"])('top', 'right', 'danger', \"This PLC is a DUPLICATE or ERROR, please enter it again\");\n        return;\n    }\n\n    let plc = new _PLC__WEBPACK_IMPORTED_MODULE_3___default.a(producer, type, name, IPaddrress, protocol, description);\n    console.log('PLC:', plc);\n\n    let result = data.addPLC2GatewayById(id, plc);\n\n    if (!result){\n        Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"showNotification\"])('top', 'right', 'warning', \"This PLC is a DUPLICATE, please enter it again\");\n        return;\n    }\n    Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"showNotification\"])('top', 'right', 'success', \"This PLC is is added successfully\");\n    renderPLCTable(id);\n}   \n\n\nwindow.updatePLC = function(id, name){\n    let error = false;\n    let [producer, type, IPaddrress, protocol, description] = [\n        $('#plc-producer').val(), \n        $('#plc-type').val(),\n        $('#plc-address').val(),\n        $('#plc-protocol').val(),\n        $('#plc-des').val()\n    ]\n\n    if (producer.trim() == \"\" || producer == undefined){\n        error = true;\n    }\n    if (type.trim() == \"\" || type == undefined){\n        error = true;\n    }\n    if (!ip_validator__WEBPACK_IMPORTED_MODULE_1___default.a.ipv4(IPaddrress.trim())){\n        error = true;\n        $('#plc-address').parent().addClass('has-error');\n    }\n    if (protocol.trim().length == 0){\n        error = true;\n        $('#plc-protocol').parent().addClass('has-error');\n    }\n\n    if (error){\n        Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"showNotification\"])('top', 'right', 'danger', \"This PLC is a ERROR, please enter it again\");\n        return;\n    }\n\n    let newPLC = new _PLC__WEBPACK_IMPORTED_MODULE_3___default.a(producer, type, name, IPaddrress, protocol, description);\n    console.log('PLC:', newPLC);\n\n    // call function update in data here...\n    data.updatePLCByNamenId(id, name, newPLC);\n   \n    Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"showNotification\"])('top', 'right', 'success', \"This PLC is is updated successfully\");\n    // Re-render PLC table\n    renderPLCTable(id);\n}   \n\n/**\n * @param id  : id of current Gateway which include this PLC\n * @param name: name of current PLC for edit\n */\nwindow.editCurrentPLC = function(id, name){\n    let plc = data.getGatewayById(id).getPLCByName(name);\n\n    $('#plc-producer').val(plc.producer);\n    // Render PLC list selection\n    changePLCList();\n    $('#plc-type').val(plc.type);\n    changePLCTypeList();\n    $('#plc-protocol').val(plc.protocol);\n\n    $('#plc-name').val(plc.name);\n    $('#plc-name').prop('disabled', true);\n    $('#plc-address').val(plc.IPaddrress);\n    $('#plc-protocol').change();\n    $('#plc-des').val(plc.description);\n\n    $('.selectpicker').selectpicker('refresh');\n    disableFloatingLabel();\n\n    $('#PLC-edit').empty();\n    $('#PLC-edit').append(`\n        <div class=\"text-center\">\n            <button type=\"button\" rel=\"tooltip\" class=\"btn btn-success btn-round\" data-original-title=\"\"\n                title=\"Update PLC\" onclick=\"updatePLC('${id}', '${name}')\">\n                <i class=\"material-icons\">save</i>\n                Save\n            </button>\n        </div>\n    `)\n\n    $('#switch-PLC').removeClass('hidden');\n    $('#switch-PLC input').prop('checked', true);\n    // Show Save PLC button after edit\n    $('#PLC-new').addClass('hidden');\n    $('#PLC-edit').removeClass('hidden');\n\n}\n\n/**\n * @param id  : id of current Gateway which include this PLC\n * @param name: name of current PLC for delete\n */\nwindow.deleteCurrentPLC = function(id, name){\n\n    swal({\n        title: 'Are you sure?',\n        text: 'You will not be able to recover this PLC!',\n        type: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, delete it!',\n        cancelButtonText: 'No, keep it',\n        confirmButtonClass: \"btn btn-success\",\n        cancelButtonClass: \"btn btn-danger\",\n        buttonsStyling: false\n    }).then(function () {\n\n        data.deletePLCByNamenId(id, name);\n        // Delete all row of gateway \n        renderPLCTable(id);\n\n        swal({\n            title: 'Deleted!',\n            text: 'Your imaginary file has been deleted.',\n            type: 'success',\n            confirmButtonClass: \"btn btn-success\",\n            buttonsStyling: false\n        })\n    }, function (dismiss) {\n        // dismiss can be 'overlay', 'cancel', 'close', 'esc', 'timer'\n        if (dismiss === 'cancel') {\n            swal({\n                title: 'Cancelled',\n                text: 'Your Gateway is safe :)',\n                type: 'error',\n                confirmButtonClass: \"btn btn-info\",\n                buttonsStyling: false\n            })\n        }\n    })\n}\n\n\n// Render a row of table Gateway\nwindow.renderPLCRow = function (plc, index, id) {\n\n    const isFirstRender = (index < 11) ? '' : 'display: none;';\n    const bgColor = (index % 2 == 0) ? 'background-color: #e7e497;' : '';\n    // Index in range of [1...N]\n    $('#render-plc').append(`\n        <tr id=\"plc-${plc.name}\" class=\"plc-${index}\" style=\"${bgColor} ${isFirstRender}\">\n            <td class=\"text-center\">${(index < 10) ? \"0\" + index : index}</td>\n            <td class=\"text-center\">${plc.name}</td>\n            <td class=\"text-center\">${Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"Message\"])(plc.producer)}</td>\n            <td class=\"text-center\">${Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"Message\"])(plc.type)}</td>\n            <td class=\"text-center\">${Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"Message\"])(plc.protocol)}</td>\n            <td class=\"text-center\">${plc.Tags.length}</td>\n            <td class=\"text-center\">${plc.IPaddrress}</td>\n            </td>\n            <td class=\"td-actions text-center\">\n                <button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"\n                    data-original-title=\"Edit PLC\"   title=\"Edit PLC\" onclick=\"editCurrentPLC('${id}', '${plc.name}')\">\n                    <i class=\"material-icons\">edit</i>\n                </button>\n                <button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"\n                    data-original-title=\"Delete PLC\" title=\"Delete PLC\" onclick=\"deleteCurrentPLC('${id}', '${plc.name}')\">\n                    <i class=\"material-icons\">close</i>\n                </button>\n            </td>\n        </tr>             \n      \n    `)\n}\n\n/**\n * @param id: id of gateway include this PLCs\n */\nwindow.renderPLCTable = function (id) {\n    // Remove old PLC table\n    $('#render-plc').empty();\n    data.getGatewayById(id).PLCs.forEach(function (plc, index) {\n        renderPLCRow(plc, index + 1, id);\n        numRowPLC = index + 1;\n    })\n\n    _pagigation__WEBPACK_IMPORTED_MODULE_5___default()(numRowPLC, 'plc');\n}\n\n\n\n\n//# sourceURL=webpack:///./src/gateway/onPLC.js?");

/***/ }),

/***/ "./src/gateway/onTag.js":
/*!******************************!*\
  !*** ./src/gateway/onTag.js ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Gateway__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Gateway */ \"./src/gateway/Gateway.js\");\n/* harmony import */ var _Gateway__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Gateway__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _PLC__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PLC */ \"./src/gateway/PLC.js\");\n/* harmony import */ var _PLC__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_PLC__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Tag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Tag */ \"./src/gateway/Tag.js\");\n/* harmony import */ var _Tag__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Tag__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_utils__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _pagigation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pagigation */ \"./src/gateway/pagigation.js\");\n/* harmony import */ var _pagigation__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_pagigation__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\nwindow.numRowTag = 0;\n\nwindow.showAlarmInput = function(){\n    let checked = $('#alarm-enable')[0].checked;\n    if (checked){\n        $('.alarm-').each(function(){\n            $(this).parent().parent().fadeTo(500, 1);\n            $(this).prop('disabled', false);\n        });\n\n    }else{\n        $('.alarm-').each(function(){\n            $(this).parent().parent().fadeTo(500, 0.4);\n            $(this).prop('disabled', true);\n        });\n    }\n}\n\n/**\n * @summary: function for interacting in Tag page of popup\n */\nwindow.changeTypeTag = function(){\n    let typeTag = $('#type-tag').val();\n    // console.log(typeVar)\n    if (typeTag == 'internal'){\n        $('.internal-tag').removeClass('hidden');\n        $('.external-tag').each(function(){\n            $(this).addClass('hidden');\n        })\n\n    }else{\n        $('.internal-tag').addClass('hidden');\n        $('.external-tag').each(function(){\n            $(this).removeClass('hidden');\n        })\n\n    }\n}\n\n/*\n *******************************************************************************************************************\n *******************************************************************************************************************\n */\n\nwindow.createNewTag = function(id) {\n    let error = false, errorMess = \"\";\n    let type, plc, name, scale, offset, min, max, dataType;\n    let unit, alarm, trend, log, access, memAddr, deadband;\n    let description, alarmObj;\n    \n    type = $('#type-tag').val();\n\n    if (type == 'internal'){\n        name =     $('.internal-tag input[name=name]').val();\n        scale =    $('.internal-tag input[name=scale]').val() ;\n        offset =   $('.internal-tag input[name=offset]').val();\n        dataType = $('.internal-tag select[name=select-datatype]').val();\n        unit =     $('.internal-tag input[name=unit]').val();\n\n        if (name.length == 0) {\n            $('.internal-tag input[name=name]').parent().addClass('has-error');\n            errorMess = ' Name';\n            error = true;\n        }\n        if (unit.length == 0) {\n            $('.internal-tag input[name=unit]').parent().addClass('has-error');\n            errorMess += ' Unit';\n            error = true;\n        }\n        if (dataType.length == 0) {\n            error = true;\n            errorMess += ' DataType';\n        }\n\n    }else{\n        plc = $('.external-tag select[name=select-plc]').val();\n        name =  $('.external-tag input[name=name]').val();\n        scale = $('.external-tag input[name=scale]').val();\n        offset = $('.external-tag input[name=offset]').val();\n        min = $('.external-tag input[name=minimum]').val();\n        max = $('.external-tag input[name=maximum]').val();\n        dataType = $('.external-tag select[name=select-datatype]').val();\n        unit = $('.external-tag input[name=unit]').val();\n        alarm = $('#alarm-enable')[0].checked;\n        trend = $('#trend-enable')[0].checked;\n        log   = $('#log-enable')[0].checked;\n        access = $('.external-tag input:radio:checked').val();\n        memAddr = $('.external-tag input[name=m-address]').val();\n        deadband = $('.external-tag input[name=deadband]').val();\n\n        if (alarm){\n            alarmObj = {\n                hihi:   $('.external-tag input[name=alarm-hihi]').val(),\n                hi:     $('.external-tag input[name=alarm-hi]').val(),\n                low:    $('.external-tag input[name=alarm-low]').val(),\n                lowlow: $('.external-tag input[name=alarm-lowlow]').val()\n            }\n\n            if (!(alarmObj.hihi.length && alarmObj.hi.length && alarmObj.low.length && alarmObj.lowlow.length)){\n                errorMess = 'Alarm';\n                error = true;\n            }\n        }\n\n        if (plc.length == 0){\n            error = true;\n            errorMess += ' PLC';\n        }\n        if (name.length == 0){\n            $('.external-tag input[name=name]').parent().addClass('has-error');\n            errorMess += ' Name';\n            error = true;\n        }\n        if (dataType.length == 0){\n            error = true;\n            errorMess += ' DataType';\n        }\n        if (unit.length == 0){\n            $('.external-tag input[name=unit]').parent().addClass('has-error');\n            errorMess += ' Unit';\n            error = true;\n        }\n        if (memAddr.length == 0){\n            $('.external-tag input[name=m-address]').parent().addClass('has-error');\n            errorMess += ' MemoryAddress ';\n            error = true;\n        }\n          \n\n    }\n    description = $('#tag-description').val();\n    // For only debug...\n    let result = {\n        type, plc, name, scale, offset, min, max, dataType,\n        unit, alarm, alarmObj, trend, log, access, memAddr,\n        deadband, description, alarmObj\n    }\n    console.log(result);\n\n    if (error){\n        Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"showNotification\"])(\"top\", \"right\", \"danger\", '<b>ERROR: </b>' + errorMess +' fields are empty.');\n        return;\n    }\n    \n    if (type == 'internal'){\n        // Create internal tag\n        let result = data.addInternalTag(name, scale, offset, dataType, unit, description);\n        if (!result) Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"showNotification\"])(\"top\", \"right\", \"danger\", \"<b>ERROR: </b> Tag is dupliated\");\n        else         Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"showNotification\"])(\"top\", \"right\", \"success\", \"<b>SUCCESS: </b> Tag is added to Internal successfully\");\n\n    }else{\n        // Create external tag\n        let newTag = new _Tag__WEBPACK_IMPORTED_MODULE_2___default.a(name, scale, offset, min, max, description,\n                          unit, memAddr, dataType, deadband, trend, \n                          log, alarmObj);\n        console.log('Create new Tag: ', newTag)                  \n        let result = data.addTag2PLCByIdName(id, plc, newTag);\n        if (!result) Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"showNotification\"])(\"top\", \"right\", \"danger\", \"<b>ERROR: </b> Tag is dupliated\");\n        else         Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"showNotification\"])(\"top\", \"right\", \"success\", \"<b>SUCCESS: </b> Tag is added to External successfully\");\n    }\n\n    renderTagTable(id);\n\n}\n\n\nwindow.deleteCurrentTag = function(gwId, plcName, tagName){\n    \n    if (plcName == '---'){\n        // Internal tag\n        data.deleteInteralTag(tagName);\n    }else{\n        // External tag\n        data.deleteTagByIdName(gwId, plcName, tagName);\n    }\n    Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"showNotification\"])('top', 'right', 'warning', '<b>WARNING: </b> Delete tag successfully');\n    // Re-render tag table\n    renderTagTable(gwId);\n}\n\n\nwindow.editCurrentTag = function(gwId, plcName, tagName){\n    let tag;\n    if (plcName == '---'){\n        // Internal tag\n        tag = data.getInternalTagByName(tagName);\n        $('#type-tag').val('internal');\n        $('.internal-tag input[name=name]').val(tag.name);\n        $('.internal-tag input[name=name]').prop('disabled', true);\n        $('.internal-tag input[name=scale]').val(tag.scale) ;\n        $('.internal-tag input[name=offset]').val(tag.offset);\n        $('.internal-tag select[name=select-datatype]').val(tag.dataType);\n        $('.internal-tag input[name=unit]').val(tag.unit);\n    \n    }else{\n        // External tag\n        tag = data.getGatewayById(gwId).getPLCByName(plcName).getTagByName(tagName);\n        $('#type-tag').val('external');\n\n        $('.external-tag select[name=select-plc]').val(plcName);\n        $('.external-tag input[name=name]').val(tag.name);\n        $('.external-tag input[name=name]').prop('disabled', true);\n        $('.external-tag input[name=scale]').val(tag.scale);\n        $('.external-tag input[name=offset]').val(tag.offset);\n        $('.external-tag input[name=minimum]').val(tag.minimum);\n        $('.external-tag input[name=maximum]').val(tag.maximum);\n        $('.external-tag select[name=select-datatype]').val(tag.dataType);\n        $('.external-tag input[name=unit]').val(tag.unit);\n        \n        if (typeof tag.alarm != 'undefined'){\n            $('#alarm-enable').prop('checked', true);\n            showAlarmInput();\n            $('.external-tag input[name=alarm-hihi]').val(tag.alarm.hihi),\n            $('.external-tag input[name=alarm-hi]').val(tag.alarm.hi),\n            $('.external-tag input[name=alarm-low]').val(tag.alarm.low),\n            $('.external-tag input[name=alarm-lowlow]').val(tag.alarm.lowlow);\n        }else{\n            $('#alarm-enable').prop('checked', false);\n            showAlarmInput();\n        }\n        \n\n        $('#trend-enable').prop('checked', tag.trend);\n        $('#log-enable').prop('checked', tag.log);\n\n        if (tag.access == 'read'){\n            $('.external-tag input:radio[value=read]').prop('checked', true);\n        }else{\n            $('.external-tag input:radio[value=readwrite]').prop('checked', true);\n        }\n\n        $('.external-tag input[name=m-address]').val(tag.memoryAdd);\n        $('.external-tag input[name=deadband]').val(tag.deadband);\n    }\n\n    $('#tag-description').val(tag.description);\n\n    $('#Tag-edit').empty();\n    $('#Tag-edit').append(`\n        <div class=\"text-center\">\n            <button type=\"button\" rel=\"tooltip\" class=\"btn btn-success btn-round\" data-original-title=\"\"\n                title=\"Update Tag\" onclick=\"updateTag('${gwId}', '${plcName}')\">\n                <i class=\"material-icons\">save</i>\n                Save\n            </button>\n        </div>\n    `)\n\n    $('#type-tag').prop('disabled', true);\n    // Show switch tag [new - edit] mode\n    $('#switch-Tag').removeClass('hidden');\n    $('#switch-Tag input').prop('checked', true);\n    // Show save button/ hide create new button\n    $('#Tag-new').addClass('hidden');\n    $('#Tag-edit').removeClass('hidden');   \n\n    changeTypeTag();\n    $('.selectpicker').selectpicker('refresh');\n    disableFloatingLabel();\n    console.log(tag);\n\n}\n\nwindow.updateTag = function(gwId, plcName){\n    let error = false, errorMess = \"\";\n    let type, plc, name, scale, offset, min, max, dataType;\n    let unit, alarm, trend, log, access, memAddr, deadband;\n    let description, alarmObj;\n\n    description = $('#tag-description').val();\n\n    if (plcName == '---'){\n        // Update internal tag\n        name =     $('.internal-tag input[name=name]').val();\n        scale =    $('.internal-tag input[name=scale]').val() ;\n        offset =   $('.internal-tag input[name=offset]').val();\n        dataType = $('.internal-tag select[name=select-datatype]').val();\n        unit =     $('.internal-tag input[name=unit]').val();\n\n        if (name.length == 0) {\n            $('.internal-tag input[name=name]').parent().addClass('has-error');\n            errorMess = ' Name';\n            error = true;\n        }\n        if (unit.length == 0) {\n            $('.internal-tag input[name=unit]').parent().addClass('has-error');\n            errorMess += ' Unit';\n            error = true;\n        }\n        if (dataType.length == 0) {\n            error = true;\n            errorMess += ' DataType';\n        }\n\n        \n    }else{\n        // Update external tag\n        name =  $('.external-tag input[name=name]').val();\n        scale = $('.external-tag input[name=scale]').val();\n        offset = $('.external-tag input[name=offset]').val();\n        min = $('.external-tag input[name=minimum]').val();\n        max = $('.external-tag input[name=maximum]').val();\n        dataType = $('.external-tag select[name=select-datatype]').val();\n        unit = $('.external-tag input[name=unit]').val();\n        alarm = $('#alarm-enable')[0].checked;\n        trend = $('#trend-enable')[0].checked;\n        log   = $('#log-enable')[0].checked;\n        access = $('.external-tag input:radio:checked').val();\n        memAddr = $('.external-tag input[name=m-address]').val();\n        deadband = $('.external-tag input[name=deadband]').val();\n\n        if (alarm){\n            alarmObj = {\n                hihi:   $('.external-tag input[name=alarm-hihi]').val(),\n                hi:     $('.external-tag input[name=alarm-hi]').val(),\n                low:    $('.external-tag input[name=alarm-low]').val(),\n                lowlow: $('.external-tag input[name=alarm-lowlow]').val()\n            }\n\n            if (!(alarmObj.hihi.length && alarmObj.hi.length && alarmObj.low.length && alarmObj.lowlow.length)){\n                errorMess = 'Alarm';\n                error = true;\n            }\n        }\n\n        if (name.length == 0){\n            $('.external-tag input[name=name]').parent().addClass('has-error');\n            errorMess += ' Name';\n            error = true;\n        }\n        if (dataType.length == 0){\n            error = true;\n            errorMess += ' DataType';\n        }\n        if (unit.length == 0){\n            $('.external-tag input[name=unit]').parent().addClass('has-error');\n            errorMess += ' Unit';\n            error = true;\n        }\n        if (memAddr.length == 0){\n            $('.external-tag input[name=m-address]').parent().addClass('has-error');\n            errorMess += ' MemoryAddress ';\n            error = true;\n        }\n          \n    }\n    \n    if (error){\n        Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"showNotification\"])(\"top\", \"right\", \"danger\", '<b>ERROR: </b>' + errorMess +' fields are empty.');\n        return;\n    }\n    \n    if (plcName == '---'){\n        data.updateInternalTag(name, scale, offset, dataType, unit, description);\n        Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"showNotification\"])(\"top\", \"right\", \"success\", \"<b>SUCCESS: </b> Tag is updated to Internal successfully\");\n\n    }else{\n        let newTag = new _Tag__WEBPACK_IMPORTED_MODULE_2___default.a(name, scale, offset, min, max, description,\n                          unit, memAddr, dataType, deadband, trend, \n                          log, alarmObj);\n        data.updateTag2PLCByIdName(gwId, plcName, newTag);               \n        Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"showNotification\"])(\"top\", \"right\", \"success\", \"<b>SUCCESS: </b> Tag is updated to External successfully\");\n    }\n\n    renderTagTable(gwId);\n}\n\n/*\n *******************************************************************************************************************\n *******************************************************************************************************************\n */\n\n\nwindow.renderTagRow = function(tag, type, index, gwId, plcName){\n\n    const isFirstRender = (index < 11) ? '' : 'display: none;';\n    const bgColor = (index % 2 == 0) ? 'background-color: #e7e497;' : '';\n    $('#render-tag').append(`\n        <tr id=\"tag-${tag.name}\"  class=\"tag-${index}\" style=\"${bgColor} ${isFirstRender}\">\n            <td class=\"text-center\">${(index<10)?\"0\"+index:index}</td>\n            <td class=\"text-center\">${tag.name}</td>\n            <td class=\"text-center\">${type}</td>\n            <td class=\"text-center\">${tag.unit.toUpperCase()}</td>\n            <td class=\"text-center\">${(tag.memoryAdd)? tag.memoryAdd.toUpperCase() : '---'}</td>\n            <td class=\"text-center\">${tag.dataType.toUpperCase()}</td>\n            <td class=\"text-center\">${(tag.trend)? Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"Message\"])(tag.trend) : '---'}</td>\n            <td class=\"text-center\">${(tag.log)? Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"Message\"])(tag.log) : '---'}</td>\n            <td class=\"text-center\">${(tag.alarm)? 'TRUE' : '---'}</td>\n            <td class=\"td-actions text-center\">\n                <button type=\"button\" rel=\"tooltip\" class=\"btn btn-success\"\n                    data-original-title=\"\" title=\"Edit TAG\" onclick=\"editCurrentTag('${gwId}', '${plcName}', '${tag.name}')\">\n                    <i class=\"material-icons\">edit</i>\n                </button>\n                <button type=\"button\" rel=\"tooltip\" class=\"btn btn-danger\"\n                    data-original-title=\"\" title=\"Delete TAG\" onclick=\"deleteCurrentTag('${gwId}', '${plcName}', '${tag.name}')\">\n                    <i class=\"material-icons\">close</i>\n                </button>\n            </td>\n        </tr>`)\n  }\n\n  /**\n   * @param {string} gwId: id of gateway include this PLC\n   * @param {string} plcName: name of Plc include this Tag\n   */\n  window.renderTagTable = function(gwId){\n    let index = 0;\n    $('#render-tag').empty();\n\n    // Render rows of external tag\n    data.getGatewayById(gwId).PLCs.forEach((plc) => {\n        plc.Tags.forEach((tag) => {\n            index++;\n            renderTagRow(tag, \"EXTERNAL\", index, gwId, plc.name);\n        })\n    })\n\n    // Render rows of internal tag\n    data.internal.forEach((tag) => {\n        index++;\n        renderTagRow(tag, \"INTERNAL\", index, gwId, '---');\n    })\n\n    numRowTag = index;\n    _pagigation__WEBPACK_IMPORTED_MODULE_4___default()(numRowTag, 'tag');\n    console.log('Init pagination here') \n  }\n\n\n\n//# sourceURL=webpack:///./src/gateway/onTag.js?");

/***/ }),

/***/ "./src/gateway/pagigation.js":
/*!***********************************!*\
  !*** ./src/gateway/pagigation.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\nfunction initPagigation(numrow, prefix){\n\n    for (let i = 1; i < numrow +1; i++){\n        if (i < 11){\n            $(`.${prefix}-${i}`).show();\n        }else{\n            $(`.${prefix}-${i}`).hide();\n        }\n    }\n\n    if (numrow < 10){\n        $(`#first-${prefix}`).parent().hide();\n        $(`#back-${prefix}`).parent().hide();\n        $(`#current-${prefix}`).parent().hide();\n        $(`#next-${prefix}`).parent().hide();\n        $(`#last-${prefix}`).parent().hide();\n        if (numrow == 0) {\n            $(`#pagination-${prefix} p`).text(`Showing 0 to ${numrow} of ${numrow} entries`);\n        }else{\n            $(`#pagination-${prefix} p`).text(`Showing 1 to ${numrow} of ${numrow} entries`);\n        }\n    }else{\n        $(`#pagination-${prefix} p`).text(`Showing 1 to 10 of ${numrow} entries`);\n        $(`#back-${prefix}`).parent().show();\n        $(`#back-${prefix}`).html('1');\n        $(`#current-${prefix}`).parent().show();\n        $(`#current-${prefix}`).html('2');\n        $(`#first-${prefix}`).parent().show();\n        $(`#last-${prefix}`).parent().show();\n\n        if (numrow <= 20){\n            $(`#next-${prefix}`).parent().hide();\n            $(`#back-${prefix}`).parent().addClass('active');\n            $(`#current-${prefix}`).parent().removeClass('active');\n        }else{\n            $(`#next-${prefix}`).parent().show();\n            $(`#next-${prefix}`).html('3');\n            $(`#back-${prefix}`).parent().addClass('active');\n            $(`#current-${prefix}`).parent().removeClass('active');\n            $(`#next-${prefix}`).parent().removeClass('active');\n        }\n    }\n}\n\nmodule.exports = initPagigation;\n\n//# sourceURL=webpack:///./src/gateway/pagigation.js?");

/***/ }),

/***/ "./src/gateway/save2DB.js":
/*!********************************!*\
  !*** ./src/gateway/save2DB.js ***!
  \********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_utils__WEBPACK_IMPORTED_MODULE_0__);\n\n\n// Add Control+S event to save data to Database on server\n$(window).keydown(function(event){\n    if (event.which == 83 && event.ctrlKey) {\n        putGatewaytoDatabase();\n        return false;\n        \n    }\n    return true;\n})\n\n/**\n* @summary function for put gateway data to MongoDB\n * @example in save button\n */\nwindow.putGatewaytoDatabase = function (){\n\n    let putData = {\n        external: JSON.stringify(data.external),\n        internal: JSON.stringify(data.internal)\n    }\n\n    console.log(putData)\n    $.ajax({\n        url: '/gateway/save',\n        method: 'PUT',\n        data: putData\n    })\n    .done(function(result){\n        console.log(\"Save result: \", result);\n        if (result.includes('error')){\n            Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"showNotification\"])(\"top\", \"right\", \"warning\", `Save to Server FAIL with Return code: <b>${result}</b>`);\n        }else{\n            Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"showNotification\"])(\"top\", \"right\", \"success\", `Save to Server SUCCESS with Return code: <b>${result}</b>`);\n        }\n    })\n    .fail(function(error){\n        console.log('Save fail: ', error);\n        Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"showNotification\"])(\"top\", \"right\", \"danger\", `Error when call <b>/gateway/save</b>`);\n    })\n}\n\n\n//# sourceURL=webpack:///./src/gateway/save2DB.js?");

/***/ }),

/***/ "./src/gateway/vectorMap.js":
/*!**********************************!*\
  !*** ./src/gateway/vectorMap.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("\nfunction renderVectorMap(){\n\n    let makerList = data.getListGateway();\n    console.log(makerList)\n    let maker = makerList.map((ele) => {\n        return {latLng: ele.latLng, name: ele.name}\n    })\n\n    console.log(maker)\n\n    // maker = [\n    //     {latLng: [10.644324, 106.220406], name: 'Long An City'},\n    //     {latLng: [20.411484, 97.563179], name: 'Mianma City'},\n    //     {latLng: [-0.52, 166.93], name: 'Nauru'},\n    //     {latLng: [-8.51, 179.21], name: 'Tuvalu'},\n    //     {latLng: [43.93, 12.46], name: 'San Marino'},\n    // ],\n\n    var mapData = {\n           'VN': 50,\n           'CN': 20,\n           'IQ': 25,\n           'JP': 15,\n           'KR': 30,\n           'IN': 25,\n           'MY': 10,\n           'KZ': 20,\n           'SA': 15\n       };\n\n       $('#gateway-map').empty();\n       $('#gateway-map').vectorMap({\n           map: 'asia_mill',\n           backgroundColor: \"transparent\",\n           zoomOnScroll: true,\n           regionStyle: {\n               initial: {\n                   fill: '#e4e4e4',\n                   \"fill-opacity\": 0.9,\n                   stroke: 'none',\n                   \"stroke-width\": 0,\n                   \"stroke-opacity\": 0\n               }\n           },\n\n           series: {\n               regions: [{\n                   values: mapData,\n                   scale: [\"#AAAAAA\",\"#444444\"],\n                   normalizeFunction: 'polynomial'\n               }]\n           },\n           markerStyle: {\n               initial: {\n                 fill: '#F8E23B',\n                 stroke: '#383f47'\n               }\n             },\n           markers: maker,\n       });\n}\n\nmodule.exports = {\n    renderVectorMap,\n\n}\n\n\n\n//# sourceURL=webpack:///./src/gateway/vectorMap.js?");

/***/ }),

/***/ "./src/utils.js":
/*!**********************!*\
  !*** ./src/utils.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("const ReceiveForm = __webpack_require__(/*! ../models/form/CommonReceiveForm */ \"./models/form/CommonReceiveForm.js\");\n\nfunction showNotification(from, align, type, message){\n\n    $.notify({\n        icon: \"add_alert\",\n        message: message\n\n    },{\n        type: type,\n        timer: 2000,\n        placement: {\n            from: from,\n            align: align\n        },\n        z_index: 2000,\n    });\n};\n\n/**\n * Show a fail notification about response of request\n * @param {string} message\n * @param {number} code\n */\nfunction showFailNotification(message, code = 406){\n\n    $.notify({\n        icon: \"add_alert\",\n        message: `<b>FAIL</b>: ${message} [HTTP Code: ${code}]`\n\n    },{\n        type: 'warning',\n        timer: 2000,\n        placement: {\n            from: 'top',\n            align: 'right'\n        },\n        z_index: 2000,\n    });\n};\n\n/**\n * Show a error notification about response of request\n * @param {string} message\n * @param {number} code\n */\nfunction showErrorNotification(message, code = 500){\n\n    $.notify({\n        icon: \"add_alert\",\n        message: `<b>ERROR</b>: ${message} [HTTP Code: ${code}]`\n\n    },{\n        type: 'danger',\n        timer: 2000,\n        placement: {\n            from: 'top',\n            align: 'right'\n        },\n        z_index: 2000,\n    });\n};\n\n/**\n * Show a success notification about response of request\n * @param {string} message\n * @param {number} code\n */\nfunction showSuccessNotification(message, code = 200){\n\n    $.notify({\n        icon: \"add_alert\",\n        message: `<b>SUCCESS</b>: ${message} [HTTP Code: ${code}]`\n\n    },{\n        type: 'success',\n        timer: 2000,\n        placement: {\n            from: 'top',\n            align: 'right'\n        },\n        z_index: 2000,\n    });\n};\n\nfunction fortmatTime(time){\n    let date = new Date(time);\n    let year = date.getFullYear();\n    let month = date.getMonth();\n    let date_ = date.getDate();\n    let hour  = date.getHours();\n    let min   = date.getMinutes();\n    let second = date.getSeconds();\n    return `${hour}:${min}:${second} ${date_}/${month}/${year}`;\n}\n\nfunction parseResponse(responseObj, textStatus){\n    \n}\n\n/**\n * Send Ajax request to server, \n * then show notification about status of response\n * @param {string} requestURL\n * @param {string} method\n * @param {object} [data={}]\n * @returns {Promise<ReceiveForm>}\n */\nfunction sendAjaxToServer(requestURL, method = \"GET\", data = {}) {\n    console.debug({requestURL, method, data})\n    let receiveForm, code;\n\n    const parseResponse = function(responseObj, httpCode){\n\n        if (receiveForm){\n            code = httpCode;\n        }else{\n            receiveForm = new ReceiveForm(JSON.parse(responseObj));\n            code = httpCode;\n        }\n    }\n\n    return new Promise((resolve, reject) => {\n        $.ajax({\n            url: requestURL,\n            method: method,\n            data: data,\n            contentType: \"application/json\",\n            statusCode: {\n                200: function(responseObj, textStatus){\n                    parseResponse(responseObj, 200);\n                    showSuccessNotification(receiveForm.getMessage(), code);\n                },\n\n                404: function(responseXHR, textStatus){\n                    parseResponse(responseXHR.responseText, 404);\n                    showFailNotification(receiveForm.getMessage(), code);\n                },\n\n                406: function(responseXHR, textStatus){\n                    parseResponse(responseXHR.responseText, 406);\n                    showFailNotification(receiveForm.getMessage(), code);\n                },\n\n                500: function(responseXHR, textStatus){\n                    parseResponse(responseXHR.responseText, 500);\n                    showErrorNotification(receiveForm.getMessage(), code);\n                },\n            }\n        })\n            .done(function (response) {\n                if (!receiveForm){\n                    receiveForm = new ReceiveForm(JSON.parse(response));\n                }\n\n                return resolve(receiveForm);\n            })\n            .fail(function (e) {\n                if (!e.responseText){\n                    showErrorNotification(\"SERVER OR NETWORK GET ERROR\", e.status);\n                }\n\n                return reject(null);\n            })\n    })\n}\n\n\n/** \n * @summary to look-up a beautiful text from rough text\n * @example Message(\"s7\") return: \"ETHERNET S7\" | Message(\"modbus\") return \"MODBUS TCP\"\n */\n\n function Message(text){\n    const table = {\n        \"s7\": \"ETHERNET S7\",\n        \"modbus\": \"MODBUS TCP\",\n        \"opcua\": \"OPC UA\",\n        \"siemens\": \"SIEMENS\",\n        \"schneider\": \"SCHNEIDER\",\n        \"mitsubishi\": \"MITSUBISHI\",\n        \"s7-300\": \"S7-300\",\n        \"s7-1200\": \"S7-1200\",\n        \"s7-1500\": \"S7-1500\",\n\n        \"1\": \"TRUE\",\n        \"true\": \"TRUE\",\n        \"0\": \"FALSE\",\n        \"false\": \"FALSE\",\n\n        \"hd\": \"HD Ready [1280 x 720]\",\n        'fhd': \"FHD [1920 x 1080]\",\n        \"qhd\": \"QHD [2560 x 1440]\"\n    }\n\n    let result = table[text] || String(text).toUpperCase();\n    return result;\n }\n\n\n module.exports = {\n    showNotification, \n    fortmatTime,\n    Message,\n    showFailNotification,\n    showErrorNotification,\n    showSuccessNotification,\n    sendAjaxToServer\n }\n\n//# sourceURL=webpack:///./src/utils.js?");

/***/ })

/******/ });